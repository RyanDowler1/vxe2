{"ast":null,"code":"var _jsxFileName = \"/Users/rdowler/Documents/myScripts/apps/vxe-tests/vxe2/src/Components/Journals/dynamicTool/dynamic-header.js\";\nimport React from 'react';\nimport '../css/journals-main.css';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport $ from 'jquery';\nimport { getToken } from '../../../utils/authMethods';\nimport AIPredication from './dynamic-ai-predication';\nimport DynamicModal from '../modals/dynamic-modal';\nimport SubmitAttachmentData from '../submitAttachment/submitAttachment'; //\n\nimport StyleList from './dynamic-style-list'; //import { setIsLoading } from '../../../utils/reusuableFunctions';\n\nimport { downloadBase64File } from '../../../utils/download';\nimport Loading from '../loading/spinningCircle';\nconst fileSizeLimit = 30720; // 300 MB upload file size limit\n\nclass DynamicHeader extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.AIPredicationModal = childData => {\n      this.setState({\n        openEditModal: childData\n      });\n    };\n\n    this.downloadOriginalManuscript = () => {\n      let api_url = $('#api_url').val();\n      let project_id = $('#projectid').val();\n      fetch(api_url + '/VXE/originalManuscript/' + project_id, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'lanstad-token': this.state.token\n        }\n      }).then(res => res.json()).then(response => {\n        downloadBase64File(response.mimetype, response.content, response.file_name);\n      });\n    };\n\n    this.onxmlfileHandler = event => {\n      var xml_err = '';\n      var file = event.target.files[0];\n      var filename = file.name;\n      var coming_file = filename.toLowerCase();\n      var filename1 = this.props.selectedChapterXmlName;\n      var org_file = filename1.toLowerCase();\n\n      if (coming_file == org_file) {\n        this.setState({\n          xml_filevalue: file\n        });\n        xml_err = '';\n        this.setState({\n          xml_file_err: ''\n        });\n      } else {\n        xml_err = \"Filename doesn't match\";\n        this.setState({\n          xml_file_err: xml_err\n        });\n      }\n    };\n\n    this.UploadXMLSubmit = event => {\n      event.preventDefault();\n      var filename = event.target.xml_file.value;\n      var xml_err = '';\n\n      if (filename == '') {\n        xml_err = 'file is empty';\n        this.setState({\n          xml_file_err: xml_err\n        });\n      } else {\n        var ext = filename.split('.').pop();\n\n        if (ext != 'xml') {\n          xml_err = 'XML file only accepted';\n          this.setState({\n            xml_file_err: xml_err\n          });\n        } else {\n          xml_err = '';\n          this.setState({\n            xml_file_err: xml_err\n          });\n        }\n      }\n\n      if (xml_err == '') {\n        const method = 'POST';\n        const body = new FormData();\n        body.append('bk_file', this.state.xml_filevalue);\n        body.append('project_id', event.target.xml_project_id.value);\n        body.append('filename', event.target.xml_filename.value);\n        body.append('chapter_id', event.target.xml_chapter_id.value);\n        body.append('user_id', event.target.xml_user_id.value);\n        body.append('task_id', event.target.xml_task_id.value);\n        var api_url = $('#api_url').val();\n        fetch(api_url + '/VXE/UploadXmlVXE', {\n          method,\n          body\n        }).then(res => res.json()).then(data => {\n          if (data.status == 'success') {\n            this.setState({\n              xmluploadcontent: false\n            });\n            this.setState({\n              showXmlSuccess: true\n            });\n          } else {\n            this.setState({\n              showXmlFailed: true\n            });\n            this.setState({\n              xmluploadcontent: false\n            });\n          }\n        });\n      }\n    };\n\n    this.StyleConfig = () => {\n      //setIsLoading(true, ['body']);\n      this.setState({\n        loading: true\n      });\n      var checkboxes = document.getElementsByClassName('style-checkbox');\n      var checkboxesChecked = [];\n      var api_url = $('#api_url').val();\n\n      for (var i = 0; i < checkboxes.length; i++) {\n        if (checkboxes[i].checked) {\n          var groupname = checkboxes[i].getAttribute('data-group');\n          var id = checkboxes[i].getAttribute('data-id');\n          console.log('Group Name: ' + groupname);\n          checkboxesChecked.push({\n            id: id,\n            name: checkboxes[i].value,\n            groupname: groupname\n          });\n        }\n      }\n\n      var project_id = $('#projectid').val();\n      var chapter_id = $('#chapterid').val();\n      fetch(api_url + '/VXE/StyleEditingConfig/', {\n        method: 'POST',\n        body: JSON.stringify({\n          ProjectId: project_id,\n          ChapterId: chapter_id,\n          checkItem: checkboxesChecked,\n          user_id: 183\n        })\n      }).then(res => res.json()).then(data => {\n        //setIsLoading(false, ['body']);\n        this.setState({\n          openStyleModal: false,\n          loading: false\n        });\n        window.location.reload(false);\n      }).catch(console.log);\n    };\n\n    this.onAuthoreHandler = event => {\n      event.preventDefault();\n      var proof_err = '';\n      var prooftext = event.target.value;\n\n      if (prooftext !== '' && prooftext !== null) {\n        this.setState({\n          prooftext: prooftext\n        });\n        proof_err = '';\n        this.setState({\n          prooftexterror: ''\n        });\n      } else {\n        proof_err = 'Please give me any comments';\n        this.setState({\n          prooftexterror: proof_err\n        });\n      }\n    };\n\n    this.removeAttachment = (e, removedIndex) => {\n      e.preventDefault();\n      let arr = [];\n      this.state.attachmentFile.forEach((item, index) => {\n        if (index !== removedIndex) {\n          arr.push(item);\n        }\n      });\n      this.setState({\n        attachmentFile: arr\n      });\n    };\n\n    this.triggerChooseFile = e => {\n      e.preventDefault();\n      this.fileDialog.current.click();\n    };\n\n    this.onAuthorfileHandler = e => {\n      let allowAttachment = true;\n      const filesSelected = [...e.target.files];\n      const filesToUpload = filesSelected.filter(file => {\n        if (file.size / 1024 > fileSizeLimit) {\n          this.setState({\n            statusText: 'The file selected is too large. The maximum supported file size is 300MB.'\n          });\n          this.setState({\n            showAttachmentError: true\n          });\n          allowAttachment = false;\n          return false;\n        } else {\n          this.setState({\n            showAttachmentError: false\n          });\n        }\n      });\n\n      if (allowAttachment) {\n        let addAttachVal = this.state.attachmentFile.concat(filesSelected);\n        this.setState({\n          attachmentFile: addAttachVal\n        });\n      }\n    };\n\n    this.AuthorSubmit = event => {\n      event.preventDefault();\n      var proof_err = '';\n      var authorComments = this.state.prooftext;\n      var magicCode = localStorage.getItem('magic-code');\n      var lanstadToken = localStorage.getItem('lanstad-token');\n      var user_id = $('#userid').val();\n      var task_id = $('#taskid').val();\n\n      if (authorComments !== '' && authorComments !== null) {\n        this.setState({\n          editorSubmittingText: 'Submitting'\n        });\n        setInterval(() => {\n          if (!this.state.editorSubmittingText.includes(`.`)) {\n            this.setState({\n              editorSubmittingText: `Submitting.`\n            });\n          } else if (this.state.editorSubmittingText.includes(`...`)) {\n            this.setState({\n              editorSubmittingText: `Submitting`\n            });\n          } else if (this.state.editorSubmittingText.includes(`..`)) {\n            this.setState({\n              editorSubmittingText: `Submitting...`\n            });\n          } else if (this.state.editorSubmittingText.includes(`.`)) {\n            this.setState({\n              editorSubmittingText: `Submitting..`\n            });\n          }\n        }, 300);\n        const method = 'POST';\n        const body = new FormData();\n        this.state.attachmentFile.forEach(image_file => {\n          body.append('author_file[]', image_file);\n        });\n        body.append('author_text', authorComments);\n        body.append('project_id', event.target.project_id.value);\n        body.append('filename', event.target.filename.value);\n        body.append('chapter_id', event.target.chapter_id.value);\n        body.append('user_id', user_id);\n        body.append('task_id', task_id);\n        body.append('magic_code', magicCode);\n        body.append('lanstad_token', lanstadToken);\n        var api_url = $('#api_url').val();\n        fetch(api_url + '/VXE/AuthorSubmit', {\n          method,\n          body\n        }).then(res => res.json()).then(data => {\n          if (data.status == 'success') {\n            this.setState({\n              authorcontent: false\n            });\n            this.setState({\n              submitStatus: 1\n            });\n          } else {\n            alert(JSON.stringify(data, null, '\\t'));\n          }\n        });\n      } else {\n        proof_err = 'Please give me any comments';\n        this.setState({\n          prooftexterror: proof_err\n        });\n      }\n    };\n\n    this.ChapterDownload = () => {\n      var api_url = $('#api_url').val();\n      var chapter_id = $('#chapterid').val();\n      var project_id = $('#projectid').val();\n      var user_id = $('#userid').val();\n      fetch(api_url + '/VXE/ChapterPdfInProgress/', {\n        method: 'POST',\n        body: JSON.stringify({\n          ProjectId: project_id,\n          ChapterId: chapter_id,\n          filename: this.props.selectedChapterXmlName,\n          user_id: user_id\n        })\n      }).then(res => res.json()).then(data => {\n        $('.message-status').empty();\n        $('#chapter_download').show();\n\n        if (data.status_id == 1) {\n          let a = document.createElement('a');\n          a.target = '_blank';\n          a.href = api_url + '/VXE/ChapterPdfDownloadJournals/' + project_id + '/' + chapter_id + '/' + this.props.selectedChapterXmlName;\n          a.click();\n        } else if (data.status_id == -1) {\n          this.setState({\n            PDFStatusModal: true\n          });\n          $('.message-status').html('<p class=\"pdf-msg\">' + data.message + '</p><p class=\"pdf-error\">' + data.remarks + '</p>');\n        } else {\n          $('#chapter_download').hide(); //Question - do we even need one here too? all this block of code does is add a loader and thats it?\n          //todo bad code\n          // var loaderlength = $(\".loading-wrapper\").length;\n          // if (loaderlength === 0) {\n          //   $(\".thumb-pdf\").append(\n          //     '\\\n          //                   <div class=\"loading-wrapper\">\\\n          //                       <div class=\"loader\">\\\n          //                           <div class=\"brand\">\\\n          //                           <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 45 45\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"45\" height=\"45\" rx=\"22.5\"></rect></defs><g id=\"Books\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"brand\" transform=\"translate(22.500000, 22.500000) rotate(180.000000) translate(-22.500000, -22.500000) \"><mask id=\"mask-2\" fill=\"white\"><use xlink:href=\"#path-1\"></use></mask><use id=\"Rectangle-2\" fill=\"#EC662F\" xlink:href=\"#path-1\"></use><path d=\"M22.5,0 L45,0 L45,0 L0,45 L0,22.5 C-1.52179594e-15,10.0735931 10.0735931,2.28269391e-15 22.5,0 Z\" id=\"Rectangle-3\" fill=\"#FCBF00\" mask=\"url(#mask-2)\"></path></g></g></svg>\\\n          //                           </div>\\\n          //                           <p>Creating PDF</p>\\\n          //                       </div>\\\n          //                   </div>\\\n          //               '\n          //   );\n          // }\n          // $(\".thumb-pdf .loading-wrapper\").show();\n        }\n\n        if (data.generatedPDFstatus == 1) {\n          $('#generate-pdf').show();\n        } else {\n          $('#generate-pdf').hide();\n        }\n\n        $('#taskid').val(data.taskId);\n      }).catch(console.log);\n    };\n\n    this.fullScreenAction = () => {\n      window.parent.postMessage('fullScreen', '*');\n      $('#root').toggleClass('focus-mode-on');\n    };\n\n    this.state = {\n      openEditModal: false,\n      PDFStatusModal: false,\n      openStyleModal: false,\n      openPdfModal: false,\n      showXmlSuccess: false,\n      showXmlFailed: false,\n      ProjectId: props.ProjectId,\n      ChapterId: props.ChapterId,\n      UPLOADPDFModal: false,\n      xml_filevalue: '',\n      xml_file_err: '',\n      xmluploadcontent: true,\n      ARModal: false,\n      prooftext: '',\n      attachmentFile: [],\n      prooftexterror: '',\n      authorcontent: true,\n      submitStatus: '',\n      APIURL: props.APIURL,\n      editorSubmittingText: 'Submit',\n      statusText: '',\n      diffFileStatus: '',\n      showAttachmentError: false,\n      token: '',\n      loading: false\n    };\n    this.fileDialog = React.createRef();\n    this.AIPredicationModalClose = this.AIPredicationModalClose.bind(this);\n    this.AIPredicationModal = this.AIPredicationModal.bind(this);\n    this.StyleModalClose = this.StyleModalClose.bind(this);\n    this.PDFModelClose = this.PDFModelClose.bind(this);\n    this.openPdfModelClose = this.openPdfModelClose.bind(this);\n    this.XMLUPModelClose = this.XMLUPModelClose.bind(this);\n    this.ARModalClose = this.ARModalClose.bind(this);\n  }\n\n  componentDidMount() {\n    const token = getToken();\n    this.setState({\n      token: token\n    });\n    this.intervalId = setInterval(this.timer.bind(this), 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  timer() {\n    //Close modal when pdf is done\n    if (this.props.pdfIsCreated) {\n      this.openPdfModelClose();\n    }\n  }\n\n  AIPredicationModalClose() {\n    this.setState({\n      openEditModal: false\n    });\n  }\n\n  StyleModalClose() {\n    this.setState({\n      openStyleModal: false\n    });\n  }\n\n  PDFModelClose() {\n    this.setState({\n      PDFStatusModal: false\n    });\n  }\n\n  openPdfModelClose() {\n    this.setState({\n      openPdfModal: false\n    });\n  }\n\n  XMLUPModelClose() {\n    this.setState({\n      UPLOADPDFModal: false\n    });\n    this.setState({\n      xml_file_err: ''\n    });\n    this.setState({\n      xmluploadcontent: false\n    });\n    window.location.reload(false);\n  }\n\n  InDesignPDF(projectId) {\n    let dataLocalStorage = JSON.parse(localStorage.getItem('proEditorData'));\n\n    if (dataLocalStorage) {\n      window.EditorTools.callAPI(dataLocalStorage);\n      console.log(JSON.parse(localStorage.getItem('proEditorData')));\n    }\n\n    this.setState({\n      openPdfModal: true\n    });\n    var project_id = $('#projectid').val();\n    var task_id = $('#taskid').val();\n    var chapter_id = $('#chapterid').val();\n    var user_id = $('#userid').val();\n    var lxe_flag = 1;\n    var filename1 = this.props.selectedChapterXmlName;\n    var filename_path = 'test';\n    var api_url = $('#api_url').val();\n    this.setState({\n      loading: true\n    });\n    $.ajax({\n      type: 'POST',\n      url: api_url + '/VXE/ChapterPDF',\n      data: {\n        project_id: project_id,\n        chapter_id: chapter_id,\n        task_id: task_id,\n        filename: filename1,\n        filename_path: filename_path,\n        user_id: user_id,\n        lxe_flag: lxe_flag\n      },\n      // beforeSend: function () {\n      //   setIsLoading(true, ['body']);\n      // },\n      success: function (res) {\n        console.log(res);\n      }\n    });\n    this.setState({\n      loading: false\n    }); //setIsLoading(false, ['body']); //Question.   added this in as it looks like loader was set but not unset . correct if wrong??\n  }\n\n  AIstartup() {\n    let data = {\n      name: 'John',\n      age: 30\n    };\n    this.setState({\n      openEditModal: true\n    });\n  }\n\n  ARModalClose() {\n    this.setState({\n      ARModal: false\n    });\n    this.setState({\n      prooftexterror: ''\n    });\n    this.setState({\n      authorcontent: false\n    });\n\n    if (this.state.submitStatus == 1) {\n      // For Author Submit process\n      window.parent.postMessage('submitReload', '*');\n    } else {\n      window.location.reload(false);\n    }\n  } //Question. there is a question below. if the answer to that is that we need to have a loader here then would it not make more sense to add it above the fetch and remove it after ??\n\n\n  Popup(data) {\n    let cssVal = 'footnote{text-indent:11pt;display:block;font-size:10.5pt}title-group>article-title{margin-top:35px;font-size:25px;margin-bottom:-19px;font-weight:700}minitoc{max-width:40em;padding:0;overflow-x:hidden;list-style:none}minitoc>para{overflow:hidden}minitoc>para1{overflow:hidden;font-size:11pt;display:block;text-indent:11pt}minitoc>para1:before{float:left;width:0;white-space:nowrap;content:\". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \"}minitoc>para:before{float:left;width:0;white-space:nowrap;content:\". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \"}minitoc span1{padding-right:.33em;background:#fff;overflow:hidden}minitoc span1+span2{float:right;padding-left:.33em;background:#fff}chapter ol{font-size:11pt}chapter ul{font-size:11pt}footnote para{display:inline!important}footnote footnoteno{display:inline!important;font-size:9pt}footnote footnoteno:after{content:\".A\";display:inline!important;font-size:9pt}#rotate{width:571pt;margin-top:125pt;margin-bottom:0;margin-left:-90pt;margin-right:0;-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}landscapePageOut::before{margin-top:51pt;margin-bottom:13pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}landscapePage pageno::before{margin-top:0!important;margin-bottom:0!important;content:\"\"!important;display:none!important;background-color:#000!important;margin-right:0!important;margin-left:0!important}landscapePage pagenor::before{margin-top:0!important;margin-bottom:0!important;content:\"\"!important;display:none!important;background-color:#000!important;margin-right:0!important;margin-left:0!important}landscapePage table{background-color:#fff;background-size:379pt;margin-bottom:272pt}landscapePage lh,landscapePage rh{margin-top:-14pt;text-align:right;margin-right:47pt;font-style:italic}landscapePage pageno{margin-right:30pt;margin-top:40pt}landscapePage pagenor{margin-right:45pt;margin-top:40pt}landscapePage paraChange{font-size:10.5pt;display:block;text-indent:11pt}landscapePage{margin-bottom:-202pt;display:table-caption;transform:rotate(90deg);background:#fff;background-color:#fff;margin-top:-157pt;margin-top:-151pt;width:400pt;margin-left:-42px;height:674pt}pageno{display:inline;text-align:right;font-size:11pt;margin-top:15pt;font-style:italic}pagenor{display:block;text-align:right;font-size:11pt;margin-top:15pt;font-style:italic}pagenob{display:block;text-align:right;font-size:11pt;margin-top:15pt;margin-bottom:-20pt;font-style:italic}lh{display:block;text-align:right;font-size:11pt;margin-top:-12pt;font-style:italic;margin-bottom:17pt}rh{display:block;text-align:left;font-size:11pt;margin-top:-12pt;font-style:italic;margin-bottom:17pt}rh:before{content:\"     •  \";white-space:pre}lh:after{content:\"  •     \";white-space:pre}pageno::before{margin-top:62pt;margin-bottom:51pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}pagenor::before{margin-top:64pt;margin-bottom:51pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}equation{font-size:10pt!important;display:block;margin-bottom:12pt;margin-top:12pt;text-align:center;word-spacing:-1.1pt!important}equation>caption1{font-size:22px;float:right}mtr mi{font-style:italic!important}msub mi:last-child{vertical-align:sub}msup mn:last-child{vertical-align:super}annotation{display:none}chapter>label1{font-size:23pt;text-align:left;display:block;margin-bottom:10pt;font-weight:700;-webkit-text-stroke-width:.05pt;text-align:center}article>title1{font-size:20pt;text-align:left;display:block;margin-bottom:5pt;font-weight:400;margin-top:0;font-weight:700;text-align:center}minitoc title1{font-size:12pt;text-align:left;display:block;font-weight:700;text-transform:uppercase;margin-top:18pt;margin-bottom:11pt}minitoc para{font-size:11pt;text-align:left;display:block;margin-bottom:2pt;text-indent:0!important;font-weight:400}info::before{width:90pt;margin-top:0;margin-bottom:3pt;white-space:pre;border-top:solid;display:block;border-width:1pt}abstract,keywordset{display:none}info{display:block;margin-top:0;margin-bottom:22pt}book info address{display:inline;font-size:9pt;text-align:left;font-style:italic}blockquote{display:block;-webkit-margin-before:1em;-webkit-margin-after:1em;-webkit-margin-start:16px;-webkit-margin-end:40px;font-size:10pt}blockquote+para,ol+para,ul+para{text-indent:0!important}info author:after{font-size:13pt;text-align:left;display:inline;margin-bottom:63pt;margin-top:-5pt;font-style:italic;content:\", \"}info author:last-of-type:after{content:none!important;white-space:pre}info author{font-size:13pt;text-align:left;display:inline;margin-bottom:63pt;margin-top:-5pt;font-style:italic}bibliography>title1{font-size:12pt;margin-top:36pt;margin-bottom:13pt;display:block;font-weight:700;text-transform:uppercase}bibliography bibliomixed{font-size:10pt;display:block;text-indent:11pt;font-size:9pt;font-weight:400}bibliomixed,bibliomixed address,bibliomixed link1,bibliomixed pubdate,bibliomixed publishername,bibliomixed title1{font-size:10pt;display:initial;text-indent:11pt;font-size:9pt;font-weight:400}bibliomixed{font-size:10pt;display:initial;text-indent:11pt;font-size:9pt;font-weight:400}article span{font-size:inherit}italic span{font-size:13px}aff{display:block;margin-top:12pt;font-size:10pt}abstract1{display:block;margin-top:15pt}kwd-group{display:block;margin-top:6pt;margin-bottom:8pt;font-size:10pt}pp1 span{font-size:11pt!important}article>pp1>span{font-size:11pt!important}article pp1{font-size:12pt;display:block;text-indent:0;margin-top:4pt;line-height:2.3}article para[role~=break]{text-align-last:justify}article para[role~=cont]{text-indent:0!important}section1 para:first-of-type{text-indent:0}chapter>para:first-of-type{text-indent:0;margin-bottom:4pt}li para{text-indent:0;display:inline;font-size:11pt;display:block}chapter li ol{margin:0 0!important;margin-left:-22pt!important}chapter li ul{margin:0 0!important}[role~=italic]{font-style:italic}[role~=bold]{font-weight:700}[role~=sub]{vertical-align:sub;font-size:smaller}[role~=super]{vertical-align:super;font-size:smaller}book,chapter{width:346pt!important;padding:71pt 61pt 71pt 61pt;-webkit-text-stroke-width:.0053pt;word-spacing:.09pt;text-align:justify}sec>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec>sec>title1{margin-top:25pt}sec>sec>sec>title1{font-size:11pt;font-weight:400;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic}sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec[sec-type=H2]>title1{font-size:11pt}sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic}sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important}ack title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=JME] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#6f2f6e}article[role=JME] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#6f2f6e}article[role=JME] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#6f2f6e}article[role=ECC] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#196574}article[role=ECC] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=ECC] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#196574}article[role=ECC] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=VB] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#196574}article[role=VB] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=VB] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#196574}article[role=VB] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=JOE] sec[sec-type=H1]>title1{font-size:17pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H2]>title1{font-size:13pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec>h1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=JOE] sec>h2{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=JOE] sec>h3{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec>h4{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}jou[role=VB]{display:block;background-color:#196574;margin-left:-58px;margin-right:auto}jou[role=ERP]{display:block;background-color:#34686b;margin-left:-57px;margin-right:auto}jou[role=JME]{display:block;background-color:#6f2f6e;margin-left:-57px;margin-right:auto}jou[role=EJE]{display:block;background-color:#0c6bc5;margin-left:-58px;margin-right:auto}jou[role=REP]{display:block;background-color:#0c6bc5;margin-left:-58px;margin-right:auto}jou[role=ECC]{display:block;background-color:#196574;margin-left:-58px;margin-right:auto}jou[role=JOE]{display:block;background-color:rgba(0,5,117,.8);margin-left:-58px;margin-right:auto}jou[role=ERC]{display:block;background-color:rgba(0,5,117,.8);margin-left:-58px;margin-right:auto}jou[role=EDM]{display:block;background-color:rgba(117,0,64,.8);margin-left:-58px;margin-right:auto}article-type{display:block;font-style:italic;font-size:19pt;font-weight:700;margin-top:6pt}article[role=ERP]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=REP]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=EJE]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=ECC]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 173px 36px 62px;color:#fff}article[role=VB]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 173px 36px 62px;color:#fff}article[role=JOE]>front>jou>name1 *{display:inline;margin-left:0;width:20px;font-size:37px;text-align:left!important;padding:31px 140px 58px 62px;color:#fff}article[role=ERC]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 140px 58px 62px;color:#fff}jou[role=ERP]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:28pt}jou[role=REP]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:28pt}jou[role=ECC]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=VB]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=EDM]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px}jou[role=JOE]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=ERC]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=EJE]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=JME]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:27pt}ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0}article[role=ECC] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=VB] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=JME] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#6f2f6e}article[role=JOE] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=ERC] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=REP] ref label1{display:none}article[role=JME] ref label1{display:none}article[role=JOE] ref label1{display:none}article[role=ERC] ref label1{display:none}fig>label1{font-size:11pt;display:inline}fig{display:block;margin-top:15pt}p fig{padding:0 0}fig>img{width:75%;display:block;margin:10px auto}figsource{font-size:8pt;font-weight:700}figure1>para{font-size:9pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:2pt;font-style:normal;word-spacing:-.91pt;text-transform:none}';\n    let cssVal2 = 'paraChange title1{font-size:9pt;display:inline;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:12pt;font-weight:700;font-style:normal;text-transform:none;margin-left:13pt}superscript{vertical-align:super;font-size:smaller}subscript{vertical-align:sub;font-size:smaller}para>title1{font-size:9pt;display:inline;text-align:left;padding:0!important;margin-top:12pt;font-weight:700;font-style:normal;text-transform:none;margin-bottom:1pt!important;margin-left:0!important;text-indent:0!important}fig>label1:after{content:\"  \";white-space:pre}fig>caption1>p1{font-size:11pt;display:inline;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:12pt;font-style:normal;text-transform:none;margin-left:2pt;line-height:2.3}figure1>mediaobject{text-align:center;margin-left:-12pt;margin-top:15px;margin-bottom:5pt;display:block}figure1{display:block;margin-bottom:15pt;text-indent:0}para label1::after{content:\"   \";white-space:pre}section1>para>title1{font-size:9pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:3pt;font-weight:400;font-style:normal;text-transform:none}para>link1{margin-bottom:15pt}table>thead>tr>td{padding-left:2pt;text-align:left;font-size:9pt;border:0;border-collapse:collapse;border-bottom:1.5px solid #000!important}table>thead>tr>td>tp{font-weight:700;padding-left:2pt;text-align:left;font-size:9pt;border:0;border-collapse:collapse;font-weight:700}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:0;border-collapse:collapse;padding-left:5pt;text-align:left}chapter imageobject>img{display:block;margin-left:auto;margin-right:auto;width:70%}article[role=EJE] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #0c6bc5;border-top:5.5px solid #0c6bc5}article[role=EDM] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(117,0,64,.8);border-top:5.5px solid rgba(117,0,64,.8)}article[role=ERP] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #34686b;border-top:5.5px solid #34686b}article[role=JME] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #6f2f6e;border-top:5.5px solid #6f2f6e}article[role=ECC] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #196574;border-top:5.5px solid #196574}article[role=VB] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #196574;border-top:5.5px solid #196574}article[role=JOE] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(0,5,117,.8);border-top:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(0,5,117,.8);border-top:5.5px solid rgba(0,5,117,.8)}article[role=EJE] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #0c6bc5}article[role=JME] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px #6f2f6e}article[role=ECC] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #196574}article[role=VB] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #196574}article[role=JOE] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid rgba(0,5,117,.8)}article table>thead:first-child tr{border-collapse:collapse;border-bottom:1.5px solid #000}article table>thead>tr{border-bottom:1.5px solid #000;border-top:1.5px solid #000;border-collapse:collapse;font-size:8.5pt}tr>td:first-of-type{text-align:left!important}article>table{width:100%;display:table;text-indent:0;border:0;border-bottom:1.5px solid #000;border-top:1.5px solid #000;text-align:initial;margin-top:15pt}td[colspan=\"2\"]{text-align:center!important;font-size:8.5pt}para[role=bib_text]{display:-webkit-box;margin-left:11pt;text-indent:-11pt!important;font-size:9pt}para[role=bib_text]::first-line{text-indent:-11pt!important}bibliomixed{margin-left:4pt;text-indent:-1pt!important;font-size:9pt;margin-top:3pt}bibliomixed::first-line{text-indent:-11pt!important}chapter ul{-webkit-padding-start:33px!important}chapter ol{-webkit-padding-start:57px!important}chapter li para figure1{margin-left:-10pt}article para[role~=cont].show_para:after{content:\"¶\"}.show_para:after{cursor:text;content:\"¶\"}article para[role~=break]:after{content:none!important}fig label1::after{content:none!important}table1 label1::after{content:none!important}bibliomixed title1:after{content:none!important}article para[role~=cont].hidden_para:after{content:none!important}.hidden_para:after{cursor:text;content:none!important}poem>line{display:block;margin-top:10pt;font-size:10pt}poem>line:after{content:\"¶\"}poem>poemsource:after{content:\"¶\"}poem>poemsource{display:block;text-align:right;margin-top:6pt;margin-bottom:6pt;margin-right:120pt!important}poem{margin-top:21pt;margin-bottom:15pt;display:block;margin-left:22pt}poem>title1{margin-top:9pt;margin-bottom:9pt}table-wrap>label1{display:inline-block;margin-top:6pt!important;font-size:11pt}table-wrap{display:block;margin-top:10pt;margin-bottom:5pt}table-wrap>caption1>p1{display:inline!important;margin-left:2pt!important;font-size:11pt;line-height:2.3}table-wrap>table,table-wrap>tgroup>table{margin-top:6pt;width:100%}article[role=REP] table-wrap>table{margin-top:6pt;border-bottom:1.5px solid #000;border-top:1.5px solid #000}table1{display:block!important}tblfn{margin-bottom:10pt!important;display:block;font-weight:700}tblsource{margin-bottom:10pt!important;display:block;font-weight:700}article>para>table1{text-indent:0!important}section1>para>table1{text-indent:0!important}line:after{content:\"A\";white-space:pre}speaker{display:inline-block;margin-top:4pt;margin-left:-11pt}dialogue>line{text-indent:0!important;margin-left:1pt;display:inline;margin-top:0;font-size:10.5pt}dialogue{display:block;margin-left:10pt}ref>source1{display:inline-block;text-align:right}info1>title1{font-weight:700;font-style:normal;font-size:23pt;text-decoration:none;font-variant:normal;line-height:1.14;text-align:center;text-indent:0;display:block;margin-bottom:30pt;margin-top:50pt}info1>title2{font-weight:700;font-style:normal;font-size:27pt;text-decoration:none;font-variant:normal;line-height:1.14;text-align:center;color:#000;text-indent:0;margin:2em 0 0 0;display:block}info1>subtitle1{font-weight:700;font-style:normal;font-size:20pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block;margin-bottom:10pt}subtitle1{font-weight:700;font-style:normal;font-size:20pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block;margin-bottom:15pt}chapter[role=chapter]>info1>author{font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.29;text-align:center;color:#000;text-indent:0;margin:2em 0 10em 0;margin-bottom:10pt}chapter[role=prelims]>info1>author{font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.29;text-align:center;color:#000;text-indent:0;margin:2em 0 10em 0;margin-bottom:10pt}info1{text-align:center;display:block}contrib-group>contrib:first-of-type:before{content:\"\";white-space:pre}contrib-group>contrib:before{white-space:pre}contrib-group>contrib{font-weight:700;font-size:12pt}contrib-group{margin-top:30pt!important}kwd-group>kwd1:first-of-type:before{content:\"\";white-space:pre}biblioset phrase:first-of-type:before{content:\" \";background-color:#000;white-space:pre;margin-bottom:2pt;height:.5pt;display:block;border-bottom:1.5px solid #000!important}bibliomisc{font-weight:400;font-style:normal;font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:center;color:#000;text-indent:0;margin:0;padding:10px 0 0 0;display:block}bibliomisc:after{content:\"¶\"}cover>bibliolist>bibliomixed>bibliomisc{display:block!important;font-size:12pt}phrase{font-weight:400;font-style:normal;font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:left;color:#000;text-indent:0;margin:0;padding:0;display:block}phrase:after{content:\"¶\"}biblioset phrase:first-of-type{margin-top:21pt!important}biblioset phrase:last-of-type{margin-top:13pt!important}legalnotice>para{font-size:9pt;margin-top:7pt;display:block;text-align:left;text-indent:0}legalnotice>para:after{content:\"¶\"}address{font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:left;color:#000;text-indent:-1px;display:block}copyright{text-align:right;display:block}notes>pp1{text-align:right;display:block;font-size:9pt;margin-top:55pt;font-weight:700;margin-block-end:0!important}notes>doi{text-align:right;display:block}notes>copyright{text-align:right;display:block}notes>subjecteditor{text-align:right;display:block}acknowledgements>title1{font-size:25pt;display:block;text-align:center}acknowledgements>para{font-size:11pt;margin-top:3pt;display:block}acknowledgements>para:after{content:\"¶\"}subtitle{font-weight:700;font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block}bibliomixed title1:after{content:none}address city:after{content:none!important}preface{display:block;margin-top:27pt;margin-bottom:46pt}preface>title1{display:block;font-size:30pt;text-align:center;font-weight:700}preface>para{display:block;text-indent:1pt;margin-top:4pt}toc>title1{display:block;text-align:center;font-size:29pt}toc>para{display:block;text-indent:3pt;margin-top:4pt}chapter li.nostyle{list-style-type:none}chapter td>ul{-webkit-padding-start:0!important}inline-formula>inline-graphic{width:20pt!important;display:inline!important;margin-top:0!important}equation>mediaobject>imageobject>img{width:125pt!important}footnote1 superscript{color:#00f}epigraph>para{margin-left:85pt;margin-top:30pt;margin-bottom:14pt;margin-right:136pt}attribution{text-align:right;display:block;margin-right:135pt}para[role=symbol_para]{text-align:center;margin-top:10pt;margin-bottom:10pt}para[role=specialpara]{text-indent:1pt;margin-top:5pt}dedication{text-align:center;font-size:12pt;margin-top:10pt;margin-bottom:10pt;font-style:italic}info1>author>personname>surname:before{white-space:pre;content:\" \"}tp{display:block}query .fa-question-circle-o{color:red!important}informalfigure>mediaobject>imageobject>img{width:16%;margin-top:-7px}glossterm{display:inline}glossentry{display:block}glossentry{padding:0;overflow-x:hidden;list-style:none;margin-left:35pt}glossentry>glossterm{overflow:hidden}glossentry>glossdef{overflow:hidden;font-size:11pt;display:block;text-indent:11pt}glossentry>glossdef:before{float:left;width:0;white-space:nowrap;content:\"  \"}glossentry>glossterm:before{float:left;width:0;white-space:nowrap;content:\"  \"}glossentry glossterm{width:113pt;float:left;padding-right:.33em;background:#fff;overflow:hidden;font-size:10.5pt}glossentry glossterm+glossdef{width:480pt;text-indent:1pt;margin-left:30pt;float:left;padding-left:.33em;background:#fff;font-size:10.5pt}ref-list{display:block;font-size:11pt;padding-bottom:30px;text-align:justify}glossdef>para{display:inline}abbreviation>title1{display:block;font-size:30pt;text-align:center;font-weight:700}p{font-size:10.5pt;text-align:justify}sidebar{display:block;margin-top:10pt;margin-bottom:14pt;border-style:solid}abstract1>title1{display:block;font-size:14pt;font-weight:700}article[role=ECC] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#196574}article[role=VB] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#196574}article[role=JME] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#6f2f6e}article[role=JOE] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:rgba(0,5,117,.8)}article[role=EJE] ref>label1:after{content:\" \";display:inline-block}article[role=ECC] ref>label1:after{content:\" \";display:inline-block}article[role=VB] ref>label1:after{content:\" \";display:inline-block}fpage1{display:inline-block}lpage1{display:inline-block}lpage{display:none}ol[list-type=disc],ul[list-type=disc]{list-style-type:disc}issue1{display:inline-block}volume1{display:inline-block}pp1{display:block;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;font-size:10.5pt;text-align:justify}article[role=EJE] table{border-bottom:5.5px solid #0c6bc5}article[role=EDM] table{border-bottom:5.5px solid rgba(117,0,64,.8)}article[role=ERP] table{border-bottom:5.5px solid #34686b}article[role=ECC] table{border-bottom:5.5px solid #196574;width:100%}article[role=VB] table{border-bottom:5.5px solid #196574}article[role=JOE] table{border-bottom:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table{border-bottom:5.5px solid rgba(0,5,117,.8)}article[role=JME] table{border-bottom:5.5px solid #6f2f6e}article-meta fpage{display:none}kwd1{display:inline}disp-formula>img{width:auto;display:block;vertical-align:middle;margin:10px auto}disp-formula{display:block}inline-formula>img{width:auto!important;display:inline!important;margin-top:0!important}article-meta>volume1{display:none}ol[list-type=bullet]{list-style-type:disc}ol[list-type=numeric]{list-style-type:decimal}ol[list-type=upperroman]{list-style-type:upper-roman}ol[list-type=lowerroman]{list-style-type:lower-roman}ol[list-type=loweralpha]{list-style-type:lower-alpha}ol[list-type=upperalpha]{list-style-type:upper-alpha}disp-formula>label1{margin-top:13px;font-size:15pt}copyright-year{display:block;text-align:right}copyright-holder{display:none}copyright-statement{display:block;text-align:right;margin-top:12pt}history{display:block;text-align:right;margin-bottom:50pt}subject{display:block;font-size:17pt;font-weight:700}date-cont{display:block}corresp{display:inline-block;margin-bottom:14pt;font-weight:700}article[role=JME] hr{margin:0;padding:0;border:0;border-top:7px solid #6f2f6e!important;height:1px!important;margin-bottom:9px!important}article[role=ERP] hr{margin:0;padding:0;border:0;border-top:7px solid #34686b!important;height:1px!important;margin-bottom:9px!important}article[role=REP] hr{margin:0;padding:0;border:0;border-top:1px solid #0f1212!important;height:1px!important;margin-bottom:9px!important}article[role=EJE] hr{margin:0;padding:0;border:0;border-top:7px solid #0c6bc5!important;height:1px!important;margin-bottom:9px!important}article[role=EDM] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(117,0,64,.8)!important;height:1px!important;margin-bottom:9px!important}article[role=ECC] hr{margin:0;padding:0;border:0;border-top:7px solid #196574!important;height:1px!important;margin-bottom:9px!important}article[role=JOE] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(0,5,117,.8)!important;height:1px!important;margin-bottom:9px!important}article[role=ERC] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(0,5,117,.8)!important;height:1px!important;margin-bottom:9px!important}table-wrap-foot fn pp1{display:block;font-size:9pt}kwd-group>title1{font-weight:700}jou[role=JME]{display:block;background-color:#6f2f6e;margin-left:-57px;margin-right:auto}vol{display:block;text-align:right}iss{display:block;text-align:right}td[colspan]>tp{text-align:center}spellingerrors{display:none}oa{font-size:16px}related-object{display:block;font-size:12px}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:1px solid #d3d3d3;border-collapse:collapse;padding-left:5pt;text-align:left;border-style:dashed}abstract,ack,aff,article-meta title-group article-title,ref-list{display:block}author-notes,contrib-group,history,ref{display:block;margin-top:10px}img.new_figureinsert{width:70%}sc{font-variant:small-caps!important}td span{font-size:9pt!important}underline{text-decoration:underline}sec[sec-type=box]>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec>sec>sec[sec-type=box]>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}td[colspan]>tp{text-align:center}spellingerrors{display:none}oa{font-size:16px}related-object{display:block;font-size:12px} table,td,th{border-collapse:collapse;border:solid 1px #ccc;padding:10px 20px;text-align:center}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:1px solid #d3d3d3;border-collapse:collapse;padding-left:5pt;text-align:left;border-style:dashed}abstract,ack,aff,article-meta title-group article-title,ref-list{display:block}author-notes,contrib-group,history,ref{display:block;margin-top:10px}pub-date>month>year{display:none}issue{display:none}';\n    let newCssXml = 'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}.ins{color:#06b506!important}.ins{border-top:1px solid;border-bottom:1px solid;color:#17c671!important}.ins,.ins tblfn,.ins tblsource,.ins xref,.ins>link1,.ins>p1{color:#17c671!important}[data-user=current-user]{color:#17c671!important;border-color:#fff!important}.del{color:#c4183c!important;text-decoration:line-through;border-top:1px solid;border-bottom:1px solid;border-color:#fff!important}book,chapter{display:flex;flex-direction:column;word-spacing:1.5pt;text-align:justify}i.ref-drag{display:none !important}.show-comment{background:red;color:#fff}.show-query{background:purple;color:#fff;}';\n    let divContents = document.getElementById('content').innerHTML;\n    let a = window.open('', '', 'height=800, width=1200');\n    a.document.write('<html><style>' + cssVal + cssVal2 + newCssXml + '</style>');\n    a.document.write('<body >');\n    a.document.write(divContents);\n    a.document.write('</body></html>');\n    Array.from($(a.document.body).find('comment')).forEach(data => {\n      let commentTxt = $(data).attr('title');\n      $(data).after('<span class=\"show-comment\">(Comment: ' + commentTxt + ')</span>');\n      $(data).remove();\n    });\n    Array.from($(a.document.body).find('query')).forEach(data => {\n      let queryTxt = $(data).attr('title');\n      $(data).after('<span class=\"show-query\">(Author Query: ' + queryTxt.split('AQ:')[1] + ')</span>');\n      $(data).remove();\n    });\n    a.document.close();\n    a.print();\n  }\n\n  pdfConvertion() {\n    this.Popup($('#content').html());\n  }\n\n  submitAction() {\n    this.setState({\n      ARModal: true\n    });\n    let dataLocalStorage = JSON.parse(localStorage.getItem('proEditorData'));\n\n    if (dataLocalStorage) {\n      window.EditorTools.callAPI(dataLocalStorage);\n    }\n  }\n\n  render() {\n    const {\n      openEditModal,\n      PDFStatusModal,\n      openStyleModal,\n      UPLOADPDFModal,\n      ARModal,\n      openPdfModal,\n      showXmlSuccess,\n      showXmlFailed,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-bar h-r-1 w-100 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 7\n      }\n    }, loading && /*#__PURE__*/React.createElement(Loading, {\n      loadingText: 'Loading...',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 px-1 my-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-actions-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"focus-mode-container focus-on\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"switch\",\n      onClick: this.fullScreenAction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"slider round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 15\n      }\n    }, \"Focus mode\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-actions-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      className: \"my-0 ml-2 cstm-dropdown more-btn dropdown\",\n      alignRight: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      id: \"dropdown-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 17\n      }\n    }, \"More\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }\n    }, this.props.permissions.download_chapter_pdf && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      id: \"chapter_download\",\n      target: \"_blank\",\n      onClick: this.ChapterDownload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 21\n      }\n    }, \"Article Download\"), this.props.permissions.ai_prediction && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: e => {\n        this.AIstartup();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 21\n      }\n    }, \"AI Prediction\"), this.props.permissions.ai_prediction && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      href: this.state.APIURL + '/VXE/journalRevertXML/' + this.state.ProjectId + '/' + this.state.ChapterId,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 21\n      }\n    }, \"Revert XML Download\"), this.props.permissions.house_style && this.state.ProjectId !== '245695' && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: e => {\n        this.setState({\n          openStyleModal: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 23\n      }\n    }, \"House Style\"), this.props.permissions.generate_pdf && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      id: \"generate-pdf\",\n      onClick: () => this.InDesignPDF(this.state.projectId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 21\n      }\n    }, \"Generate PDF\"), this.props.permissions.download_xml && this.state.ProjectId !== '245695' && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      href: this.state.APIURL + '/VXE/DownloadVXExml/' + this.state.ProjectId + '/' + this.state.ChapterId + '/' + this.props.selectedChapterXmlName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 23\n      }\n    }, \"Download XML\"), this.props.permissions.download_original_manuscript && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: e => {\n        this.downloadOriginalManuscript();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 21\n      }\n    }, \"Download Original Manuscript\"), this.props.permissions.upload_xml && this.state.ProjectId !== '245695' && /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: e => {\n        this.setState({\n          UPLOADPDFModal: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 23\n      }\n    }, \"Upload XML\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: e => {\n        this.pdfConvertion();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 19\n      }\n    }, \"Track changes PDF\"))), this.props.permissions.submit_button && !this.props.permissions.oup && /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn cstm-save-btn ml-2\",\n      onClick: e => {\n        this.submitAction();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 19\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"hide saving_file mt-2 mr-2 float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 15\n      }\n    }, ' ', \"Saving...\", ' '), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"hide saved_file mt-2 mr-2 float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 15\n      }\n    }, ' ', \"Saved\", ' ')), openEditModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"ai-predication-modal\",\n      modalId: \"modal-2\",\n      modalSize: \"lg\",\n      modalIsClose: this.AIPredicationModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AIPredication, {\n      selectedChapterXmlName: this.props.selectedChapterXmlName,\n      sendAIPredicationModal: this.AIPredicationModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 17\n      }\n    })), PDFStatusModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"pdf-modal\",\n      modalId: \"modal-pdf\",\n      modalSize: \"sm\",\n      modalIsClose: this.PDFModelClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 17\n      }\n    })), openPdfModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"pdf-modal\",\n      modalId: \"modal-pdf\",\n      modalSize: \"sm\",\n      modalIsClose: this.openPdfModelClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 19\n      }\n    }, \"Your PDF is generating\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 19\n      }\n    }, \"Your journal PDF is currently being generated and this process can take up to 10 minutes depending on the file size. You will not be able to review/edit this chapter on the PRO editor while the PDF is being processed but you can review/edit other chapters in the meantime.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 19\n      }\n    }, \"You can also leave the PRO editor while this is ongoing. Rest assured, the PDF generation will continue and be ready here when you come back.\"))), ARModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"track-chg-modal\",\n      modalId: \"tc-modal\",\n      modalSize: \"md\",\n      modalIsClose: this.ARModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"tc-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 19\n      }\n    }, \"Editor Comments\"), this.state.authorcontent ? /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.AuthorSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"pull-left mb-4 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 25\n      }\n    }, \"Write feedback for your team to review\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row form-group display_figure ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"popuplabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 27\n      }\n    }, \"Message:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control inline_figure\",\n      name: \"prooftextname\",\n      id: \"proof_text\",\n      onChange: this.onAuthoreHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 27\n      }\n    }, this.state.prooftexterror)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row form-group ml-1 mb-3 cstm-b1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"popuplabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 27\n      }\n    }, \"Upload Assets:\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.fileDialog,\n      type: \"file\",\n      className: \"form-control inline_figure\",\n      id: \"proof_assetfile\",\n      multiple: true,\n      hidden: true,\n      onChange: e => this.onAuthorfileHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.triggerChooseFile(e);\n      },\n      className: \"ml-1 deanta-button attachments-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 29\n      }\n    }, \"add_link\"), ' ', /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pl-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 29\n      }\n    }, \" Choose Your Files\")), this.state.attachmentFile.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SubmitAttachmentData, {\n      removeAttachment: this.removeAttachment,\n      attachedFileData: this.state.attachmentFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 31\n      }\n    })), this.state.showAttachmentError && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"file-size-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 29\n      }\n    }, this.state.statusText)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"project_id\",\n      value: this.props.ProjectId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"filename\",\n      value: this.props.selectedChapterXmlName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 785,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"chapter_id\",\n      value: this.props.ChapterId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"user_id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"task_id\",\n      value: \"565656\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn cstm-save-btn proof-button tc-button\",\n      value: this.state.editorSubmittingText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 25\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sucess-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 808,\n        columnNumber: 21\n      }\n    }, \"The Proof has been Submitted\"))), UPLOADPDFModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"xml-chg-modal\",\n      modalId: \"xml-modal\",\n      modalSize: \"md\",\n      modalIsClose: this.XMLUPModelClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"tc-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 19\n      }\n    }, \"Upload XML\"), this.state.xmluploadcontent && /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.UploadXMLSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend pr-4 hide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 27\n      }\n    }, \"Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"xml_file\",\n      id: \"xmlfile\",\n      accept: \"text/xml\",\n      onChange: this.onxmlfileHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 27\n      }\n    }, this.state.xml_file_err), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"xml_project_id\",\n      value: this.props.ProjectId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 843,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"xml_filename\",\n      value: this.props.selectedChapterXmlName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"xml_chapter_id\",\n      value: this.props.ChapterId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"xml_user_id\",\n      value: \"2206\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 858,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"xml_task_id\",\n      value: \"575757\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn cstm-success-bg tc-button\",\n      value: \"Upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 25\n      }\n    }))), showXmlSuccess && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sucess-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 880,\n        columnNumber: 21\n      }\n    }, \"XML Uploaded Successfully\"), showXmlFailed && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"danger-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 883,\n        columnNumber: 21\n      }\n    }, \"XML Upload failed\"))), openStyleModal && /*#__PURE__*/React.createElement(DynamicModal, {\n      modalName: \"style-modal\",\n      modalId: \"modal-2\",\n      modalSize: \"lg\",\n      modalIsClose: this.StyleModalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(StyleList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.StyleConfig,\n      className: \"btn cstm-success-bg float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 897,\n        columnNumber: 17\n      }\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default DynamicHeader;","map":{"version":3,"sources":["/Users/rdowler/Documents/myScripts/apps/vxe-tests/vxe2/src/Components/Journals/dynamicTool/dynamic-header.js"],"names":["React","Dropdown","$","getToken","AIPredication","DynamicModal","SubmitAttachmentData","StyleList","downloadBase64File","Loading","fileSizeLimit","DynamicHeader","Component","constructor","props","AIPredicationModal","childData","setState","openEditModal","downloadOriginalManuscript","api_url","val","project_id","fetch","method","headers","state","token","then","res","json","response","mimetype","content","file_name","onxmlfileHandler","event","xml_err","file","target","files","filename","name","coming_file","toLowerCase","filename1","selectedChapterXmlName","org_file","xml_filevalue","xml_file_err","UploadXMLSubmit","preventDefault","xml_file","value","ext","split","pop","body","FormData","append","xml_project_id","xml_filename","xml_chapter_id","xml_user_id","xml_task_id","data","status","xmluploadcontent","showXmlSuccess","showXmlFailed","StyleConfig","loading","checkboxes","document","getElementsByClassName","checkboxesChecked","i","length","checked","groupname","getAttribute","id","console","log","push","chapter_id","JSON","stringify","ProjectId","ChapterId","checkItem","user_id","openStyleModal","window","location","reload","catch","onAuthoreHandler","proof_err","prooftext","prooftexterror","removeAttachment","e","removedIndex","arr","attachmentFile","forEach","item","index","triggerChooseFile","fileDialog","current","click","onAuthorfileHandler","allowAttachment","filesSelected","filesToUpload","filter","size","statusText","showAttachmentError","addAttachVal","concat","AuthorSubmit","authorComments","magicCode","localStorage","getItem","lanstadToken","task_id","editorSubmittingText","setInterval","includes","image_file","authorcontent","submitStatus","alert","ChapterDownload","empty","show","status_id","a","createElement","href","PDFStatusModal","html","message","remarks","hide","generatedPDFstatus","taskId","fullScreenAction","parent","postMessage","toggleClass","openPdfModal","UPLOADPDFModal","ARModal","APIURL","diffFileStatus","createRef","AIPredicationModalClose","bind","StyleModalClose","PDFModelClose","openPdfModelClose","XMLUPModelClose","ARModalClose","componentDidMount","intervalId","timer","componentWillUnmount","clearInterval","pdfIsCreated","InDesignPDF","projectId","dataLocalStorage","parse","EditorTools","callAPI","lxe_flag","filename_path","ajax","type","url","success","AIstartup","age","Popup","cssVal","cssVal2","newCssXml","divContents","getElementById","innerHTML","open","write","Array","from","find","commentTxt","attr","after","remove","queryTxt","close","print","pdfConvertion","submitAction","render","permissions","download_chapter_pdf","ai_prediction","house_style","generate_pdf","download_xml","download_original_manuscript","upload_xml","submit_button","oup"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,0BAAP;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,QAAT,QAAyB,4BAAzB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,oBAAP,MAAiC,sCAAjC,C,CAAwE;;AACxE,OAAOC,SAAP,MAAsB,sBAAtB,C,CACA;;AACA,SAASC,kBAAT,QAAmC,yBAAnC;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,MAAMC,aAAa,GAAG,KAAtB,C,CAA6B;;AAE7B,MAAMC,aAAN,SAA4BX,KAAK,CAACY,SAAlC,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwDnBC,kBAxDmB,GAwDGC,SAAD,IAAe;AAClC,WAAKC,QAAL,CAAc;AAAEC,QAAAA,aAAa,EAAEF;AAAjB,OAAd;AACD,KA1DkB;;AAAA,SAmFnBG,0BAnFmB,GAmFU,MAAM;AACjC,UAAIC,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;AACA,UAAIC,UAAU,GAAGpB,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACAE,MAAAA,KAAK,CAACH,OAAO,GAAG,0BAAV,GAAuCE,UAAxC,EAAoD;AACvDE,QAAAA,MAAM,EAAE,KAD+C;AAEvDC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,KAAKC,KAAL,CAAWC;AAFrB;AAF8C,OAApD,CAAL,CAOGC,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CAQSG,QAAD,IAAc;AAClBvB,QAAAA,kBAAkB,CAChBuB,QAAQ,CAACC,QADO,EAEhBD,QAAQ,CAACE,OAFO,EAGhBF,QAAQ,CAACG,SAHO,CAAlB;AAKD,OAdH;AAeD,KArGkB;;AAAA,SAuGnBC,gBAvGmB,GAuGCC,KAAD,IAAW;AAC5B,UAAIC,OAAO,GAAG,EAAd;AACA,UAAIC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX;AACA,UAAIC,QAAQ,GAAGH,IAAI,CAACI,IAApB;AACA,UAAIC,WAAW,GAAGF,QAAQ,CAACG,WAAT,EAAlB;AACA,UAAIC,SAAS,GAAG,KAAK/B,KAAL,CAAWgC,sBAA3B;AACA,UAAIC,QAAQ,GAAGF,SAAS,CAACD,WAAV,EAAf;;AACA,UAAID,WAAW,IAAII,QAAnB,EAA6B;AAC3B,aAAK9B,QAAL,CAAc;AAAE+B,UAAAA,aAAa,EAAEV;AAAjB,SAAd;AACAD,QAAAA,OAAO,GAAG,EAAV;AACA,aAAKpB,QAAL,CAAc;AAAEgC,UAAAA,YAAY,EAAE;AAAhB,SAAd;AACD,OAJD,MAIO;AACLZ,QAAAA,OAAO,GAAG,wBAAV;AACA,aAAKpB,QAAL,CAAc;AAAEgC,UAAAA,YAAY,EAAEZ;AAAhB,SAAd;AACD;AACF,KAtHkB;;AAAA,SAwHnBa,eAxHmB,GAwHAd,KAAD,IAAW;AAC3BA,MAAAA,KAAK,CAACe,cAAN;AACA,UAAIV,QAAQ,GAAGL,KAAK,CAACG,MAAN,CAAaa,QAAb,CAAsBC,KAArC;AACA,UAAIhB,OAAO,GAAG,EAAd;;AACA,UAAII,QAAQ,IAAI,EAAhB,EAAoB;AAClBJ,QAAAA,OAAO,GAAG,eAAV;AACA,aAAKpB,QAAL,CAAc;AAAEgC,UAAAA,YAAY,EAAEZ;AAAhB,SAAd;AACD,OAHD,MAGO;AACL,YAAIiB,GAAG,GAAGb,QAAQ,CAACc,KAAT,CAAe,GAAf,EAAoBC,GAApB,EAAV;;AACA,YAAIF,GAAG,IAAI,KAAX,EAAkB;AAChBjB,UAAAA,OAAO,GAAG,wBAAV;AACA,eAAKpB,QAAL,CAAc;AAAEgC,YAAAA,YAAY,EAAEZ;AAAhB,WAAd;AACD,SAHD,MAGO;AACLA,UAAAA,OAAO,GAAG,EAAV;AACA,eAAKpB,QAAL,CAAc;AAAEgC,YAAAA,YAAY,EAAEZ;AAAhB,WAAd;AACD;AACF;;AACD,UAAIA,OAAO,IAAI,EAAf,EAAmB;AACjB,cAAMb,MAAM,GAAG,MAAf;AACA,cAAMiC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,QAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuB,KAAKjC,KAAL,CAAWsB,aAAlC;AACAS,QAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BvB,KAAK,CAACG,MAAN,CAAaqB,cAAb,CAA4BP,KAAtD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBvB,KAAK,CAACG,MAAN,CAAasB,YAAb,CAA0BR,KAAlD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BvB,KAAK,CAACG,MAAN,CAAauB,cAAb,CAA4BT,KAAtD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuBvB,KAAK,CAACG,MAAN,CAAawB,WAAb,CAAyBV,KAAhD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuBvB,KAAK,CAACG,MAAN,CAAayB,WAAb,CAAyBX,KAAhD;AAEA,YAAIjC,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;AACAE,QAAAA,KAAK,CAACH,OAAO,GAAG,mBAAX,EAAgC;AAAEI,UAAAA,MAAF;AAAUiC,UAAAA;AAAV,SAAhC,CAAL,CACG7B,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESqC,IAAD,IAAU;AACd,cAAIA,IAAI,CAACC,MAAL,IAAe,SAAnB,EAA8B;AAC5B,iBAAKjD,QAAL,CAAc;AAAEkD,cAAAA,gBAAgB,EAAE;AAApB,aAAd;AACA,iBAAKlD,QAAL,CAAc;AAAEmD,cAAAA,cAAc,EAAE;AAAlB,aAAd;AACD,WAHD,MAGO;AACL,iBAAKnD,QAAL,CAAc;AAAEoD,cAAAA,aAAa,EAAE;AAAjB,aAAd;AACA,iBAAKpD,QAAL,CAAc;AAAEkD,cAAAA,gBAAgB,EAAE;AAApB,aAAd;AACD;AACF,SAVH;AAWD;AACF,KAhKkB;;AAAA,SAkKnBG,WAlKmB,GAkKL,MAAM;AAClB;AACA,WAAKrD,QAAL,CAAc;AACZsD,QAAAA,OAAO,EAAE;AADG,OAAd;AAGA,UAAIC,UAAU,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,gBAAhC,CAAjB;AACA,UAAIC,iBAAiB,GAAG,EAAxB;AACA,UAAIvD,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;;AACA,WAAK,IAAIuD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAAU,CAACK,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,YAAIJ,UAAU,CAACI,CAAD,CAAV,CAAcE,OAAlB,EAA2B;AACzB,cAAIC,SAAS,GAAGP,UAAU,CAACI,CAAD,CAAV,CAAcI,YAAd,CAA2B,YAA3B,CAAhB;AACA,cAAIC,EAAE,GAAGT,UAAU,CAACI,CAAD,CAAV,CAAcI,YAAd,CAA2B,SAA3B,CAAT;AAEAE,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBJ,SAA7B;AACAJ,UAAAA,iBAAiB,CAACS,IAAlB,CAAuB;AACrBH,YAAAA,EAAE,EAAEA,EADiB;AAErBvC,YAAAA,IAAI,EAAE8B,UAAU,CAACI,CAAD,CAAV,CAAcvB,KAFC;AAGrB0B,YAAAA,SAAS,EAAEA;AAHU,WAAvB;AAKD;AACF;;AACD,UAAIzD,UAAU,GAAGpB,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACA,UAAIgE,UAAU,GAAGnF,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACAE,MAAAA,KAAK,CAACH,OAAO,GAAG,0BAAX,EAAuC;AAC1CI,QAAAA,MAAM,EAAE,MADkC;AAE1CiC,QAAAA,IAAI,EAAE6B,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,SAAS,EAAElE,UADQ;AAEnBmE,UAAAA,SAAS,EAAEJ,UAFQ;AAGnBK,UAAAA,SAAS,EAAEf,iBAHQ;AAInBgB,UAAAA,OAAO,EAAE;AAJU,SAAf;AAFoC,OAAvC,CAAL,CASG/D,IATH,CASSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATjB,EAUGF,IAVH,CAUSqC,IAAD,IAAU;AACd;AACA,aAAKhD,QAAL,CAAc;AAAE2E,UAAAA,cAAc,EAAE,KAAlB;AAAyBrB,UAAAA,OAAO,EAAE;AAAlC,SAAd;AACAsB,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,OAdH,EAeGC,KAfH,CAeSd,OAAO,CAACC,GAfjB;AAgBD,KAzMkB;;AAAA,SAkQnBc,gBAlQmB,GAkQC7D,KAAD,IAAW;AAC5BA,MAAAA,KAAK,CAACe,cAAN;AACA,UAAI+C,SAAS,GAAG,EAAhB;AACA,UAAIC,SAAS,GAAG/D,KAAK,CAACG,MAAN,CAAac,KAA7B;;AACA,UAAI8C,SAAS,KAAK,EAAd,IAAoBA,SAAS,KAAK,IAAtC,EAA4C;AAC1C,aAAKlF,QAAL,CAAc;AAAEkF,UAAAA,SAAS,EAAEA;AAAb,SAAd;AACAD,QAAAA,SAAS,GAAG,EAAZ;AACA,aAAKjF,QAAL,CAAc;AAAEmF,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD,OAJD,MAIO;AACLF,QAAAA,SAAS,GAAG,6BAAZ;AACA,aAAKjF,QAAL,CAAc;AAAEmF,UAAAA,cAAc,EAAEF;AAAlB,SAAd;AACD;AACF,KA9QkB;;AAAA,SAgRnBG,gBAhRmB,GAgRA,CAACC,CAAD,EAAIC,YAAJ,KAAqB;AACtCD,MAAAA,CAAC,CAACnD,cAAF;AACA,UAAIqD,GAAG,GAAG,EAAV;AACA,WAAK9E,KAAL,CAAW+E,cAAX,CAA0BC,OAA1B,CAAkC,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACjD,YAAIA,KAAK,KAAKL,YAAd,EAA4B;AAC1BC,UAAAA,GAAG,CAACpB,IAAJ,CAASuB,IAAT;AACD;AACF,OAJD;AAKA,WAAK1F,QAAL,CAAc;AAAEwF,QAAAA,cAAc,EAAED;AAAlB,OAAd;AACD,KAzRkB;;AAAA,SA2RnBK,iBA3RmB,GA2REP,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACnD,cAAF;AACA,WAAK2D,UAAL,CAAgBC,OAAhB,CAAwBC,KAAxB;AACD,KA9RkB;;AAAA,SAgSnBC,mBAhSmB,GAgSIX,CAAD,IAAO;AAC3B,UAAIY,eAAe,GAAG,IAAtB;AACA,YAAMC,aAAa,GAAG,CAAC,GAAGb,CAAC,CAAC/D,MAAF,CAASC,KAAb,CAAtB;AACA,YAAM4E,aAAa,GAAGD,aAAa,CAACE,MAAd,CAAsB/E,IAAD,IAAU;AACnD,YAAIA,IAAI,CAACgF,IAAL,GAAY,IAAZ,GAAmB5G,aAAvB,EAAsC;AACpC,eAAKO,QAAL,CAAc;AACZsG,YAAAA,UAAU,EACR;AAFU,WAAd;AAIA,eAAKtG,QAAL,CAAc;AAAEuG,YAAAA,mBAAmB,EAAE;AAAvB,WAAd;AACAN,UAAAA,eAAe,GAAG,KAAlB;AACA,iBAAO,KAAP;AACD,SARD,MAQO;AACL,eAAKjG,QAAL,CAAc;AAAEuG,YAAAA,mBAAmB,EAAE;AAAvB,WAAd;AACD;AACF,OAZqB,CAAtB;;AAaA,UAAIN,eAAJ,EAAqB;AACnB,YAAIO,YAAY,GAAG,KAAK/F,KAAL,CAAW+E,cAAX,CAA0BiB,MAA1B,CAAiCP,aAAjC,CAAnB;AACA,aAAKlG,QAAL,CAAc;AAAEwF,UAAAA,cAAc,EAAEgB;AAAlB,SAAd;AACD;AACF,KApTkB;;AAAA,SAsTnBE,YAtTmB,GAsTHvF,KAAD,IAAW;AACxBA,MAAAA,KAAK,CAACe,cAAN;AACA,UAAI+C,SAAS,GAAG,EAAhB;AACA,UAAI0B,cAAc,GAAG,KAAKlG,KAAL,CAAWyE,SAAhC;AACA,UAAI0B,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAhB;AACA,UAAIC,YAAY,GAAGF,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;AACA,UAAIpC,OAAO,GAAGzF,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,EAAd;AACA,UAAI4G,OAAO,GAAG/H,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,EAAd;;AAEA,UAAIuG,cAAc,KAAK,EAAnB,IAAyBA,cAAc,KAAK,IAAhD,EAAsD;AACpD,aAAK3G,QAAL,CAAc;AAAEiH,UAAAA,oBAAoB,EAAE;AAAxB,SAAd;AACAC,QAAAA,WAAW,CAAC,MAAM;AAChB,cAAI,CAAC,KAAKzG,KAAL,CAAWwG,oBAAX,CAAgCE,QAAhC,CAA0C,GAA1C,CAAL,EAAoD;AAClD,iBAAKnH,QAAL,CAAc;AAAEiH,cAAAA,oBAAoB,EAAG;AAAzB,aAAd;AACD,WAFD,MAEO,IAAI,KAAKxG,KAAL,CAAWwG,oBAAX,CAAgCE,QAAhC,CAA0C,KAA1C,CAAJ,EAAqD;AAC1D,iBAAKnH,QAAL,CAAc;AAAEiH,cAAAA,oBAAoB,EAAG;AAAzB,aAAd;AACD,WAFM,MAEA,IAAI,KAAKxG,KAAL,CAAWwG,oBAAX,CAAgCE,QAAhC,CAA0C,IAA1C,CAAJ,EAAoD;AACzD,iBAAKnH,QAAL,CAAc;AAAEiH,cAAAA,oBAAoB,EAAG;AAAzB,aAAd;AACD,WAFM,MAEA,IAAI,KAAKxG,KAAL,CAAWwG,oBAAX,CAAgCE,QAAhC,CAA0C,GAA1C,CAAJ,EAAmD;AACxD,iBAAKnH,QAAL,CAAc;AAAEiH,cAAAA,oBAAoB,EAAG;AAAzB,aAAd;AACD;AACF,SAVU,EAUR,GAVQ,CAAX;AAYA,cAAM1G,MAAM,GAAG,MAAf;AACA,cAAMiC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACA,aAAKhC,KAAL,CAAW+E,cAAX,CAA0BC,OAA1B,CAAmC2B,UAAD,IAAgB;AAChD5E,UAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B0E,UAA7B;AACD,SAFD;AAGA5E,QAAAA,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BiE,cAA3B;AACAnE,QAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BvB,KAAK,CAACG,MAAN,CAAajB,UAAb,CAAwB+B,KAAlD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBvB,KAAK,CAACG,MAAN,CAAaE,QAAb,CAAsBY,KAA9C;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BvB,KAAK,CAACG,MAAN,CAAa8C,UAAb,CAAwBhC,KAAlD;AACAI,QAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuBgC,OAAvB;AACAlC,QAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuBsE,OAAvB;AACAxE,QAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BkE,SAA1B;AACApE,QAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6BqE,YAA7B;AAEA,YAAI5G,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;AACAE,QAAAA,KAAK,CAACH,OAAO,GAAG,mBAAX,EAAgC;AAAEI,UAAAA,MAAF;AAAUiC,UAAAA;AAAV,SAAhC,CAAL,CACG7B,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESqC,IAAD,IAAU;AACd,cAAIA,IAAI,CAACC,MAAL,IAAe,SAAnB,EAA8B;AAC5B,iBAAKjD,QAAL,CAAc;AAAEqH,cAAAA,aAAa,EAAE;AAAjB,aAAd;AACA,iBAAKrH,QAAL,CAAc;AAAEsH,cAAAA,YAAY,EAAE;AAAhB,aAAd;AACD,WAHD,MAGO;AACLC,YAAAA,KAAK,CAAClD,IAAI,CAACC,SAAL,CAAetB,IAAf,EAAqB,IAArB,EAA2B,IAA3B,CAAD,CAAL;AACD;AACF,SATH;AAUD,OAvCD,MAuCO;AACLiC,QAAAA,SAAS,GAAG,6BAAZ;AACA,aAAKjF,QAAL,CAAc;AAAEmF,UAAAA,cAAc,EAAEF;AAAlB,SAAd;AACD;AACF,KA1WkB;;AAAA,SAwXnBuC,eAxXmB,GAwXD,MAAM;AACtB,UAAIrH,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;AACA,UAAIgE,UAAU,GAAGnF,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACA,UAAIC,UAAU,GAAGpB,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACA,UAAIsE,OAAO,GAAGzF,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,EAAd;AACAE,MAAAA,KAAK,CAACH,OAAO,GAAG,4BAAX,EAAyC;AAC5CI,QAAAA,MAAM,EAAE,MADoC;AAE5CiC,QAAAA,IAAI,EAAE6B,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,SAAS,EAAElE,UADQ;AAEnBmE,UAAAA,SAAS,EAAEJ,UAFQ;AAGnB5C,UAAAA,QAAQ,EAAE,KAAK3B,KAAL,CAAWgC,sBAHF;AAInB6C,UAAAA,OAAO,EAAEA;AAJU,SAAf;AAFsC,OAAzC,CAAL,CASG/D,IATH,CASSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATjB,EAUGF,IAVH,CAUSqC,IAAD,IAAU;AACd/D,QAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBwI,KAArB;AACAxI,QAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuByI,IAAvB;;AACA,YAAI1E,IAAI,CAAC2E,SAAL,IAAkB,CAAtB,EAAyB;AACvB,cAAIC,CAAC,GAAGpE,QAAQ,CAACqE,aAAT,CAAuB,GAAvB,CAAR;AACAD,UAAAA,CAAC,CAACtG,MAAF,GAAW,QAAX;AACAsG,UAAAA,CAAC,CAACE,IAAF,GACE3H,OAAO,GACP,kCADA,GAEAE,UAFA,GAGA,GAHA,GAIA+D,UAJA,GAKA,GALA,GAMA,KAAKvE,KAAL,CAAWgC,sBAPb;AAQA+F,UAAAA,CAAC,CAAC7B,KAAF;AACD,SAZD,MAYO,IAAI/C,IAAI,CAAC2E,SAAL,IAAkB,CAAC,CAAvB,EAA0B;AAC/B,eAAK3H,QAAL,CAAc;AAAE+H,YAAAA,cAAc,EAAE;AAAlB,WAAd;AACA9I,UAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB+I,IAArB,CACE,wBACEhF,IAAI,CAACiF,OADP,GAEE,2BAFF,GAGEjF,IAAI,CAACkF,OAHP,GAIE,MALJ;AAOD,SATM,MASA;AACLjJ,UAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBkJ,IAAvB,GADK,CAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED,YAAInF,IAAI,CAACoF,kBAAL,IAA2B,CAA/B,EAAkC;AAChCnJ,UAAAA,CAAC,CAAC,eAAD,CAAD,CAAmByI,IAAnB;AACD,SAFD,MAEO;AACLzI,UAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBkJ,IAAnB;AACD;;AACDlJ,QAAAA,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,CAAiB4C,IAAI,CAACqF,MAAtB;AACD,OA9DH,EA+DGtD,KA/DH,CA+DSd,OAAO,CAACC,GA/DjB;AAgED,KA7bkB;;AAAA,SA+bnBoE,gBA/bmB,GA+bA,MAAM;AACvB1D,MAAAA,MAAM,CAAC2D,MAAP,CAAcC,WAAd,CAA0B,YAA1B,EAAwC,GAAxC;AACAvJ,MAAAA,CAAC,CAAC,OAAD,CAAD,CAAWwJ,WAAX,CAAuB,eAAvB;AACD,KAlckB;;AAEjB,SAAKhI,KAAL,GAAa;AACXR,MAAAA,aAAa,EAAE,KADJ;AAEX8H,MAAAA,cAAc,EAAE,KAFL;AAGXpD,MAAAA,cAAc,EAAE,KAHL;AAIX+D,MAAAA,YAAY,EAAE,KAJH;AAKXvF,MAAAA,cAAc,EAAE,KALL;AAMXC,MAAAA,aAAa,EAAE,KANJ;AAOXmB,MAAAA,SAAS,EAAE1E,KAAK,CAAC0E,SAPN;AAQXC,MAAAA,SAAS,EAAE3E,KAAK,CAAC2E,SARN;AASXmE,MAAAA,cAAc,EAAE,KATL;AAUX5G,MAAAA,aAAa,EAAE,EAVJ;AAWXC,MAAAA,YAAY,EAAE,EAXH;AAYXkB,MAAAA,gBAAgB,EAAE,IAZP;AAaX0F,MAAAA,OAAO,EAAE,KAbE;AAcX1D,MAAAA,SAAS,EAAE,EAdA;AAeXM,MAAAA,cAAc,EAAE,EAfL;AAgBXL,MAAAA,cAAc,EAAE,EAhBL;AAiBXkC,MAAAA,aAAa,EAAE,IAjBJ;AAkBXC,MAAAA,YAAY,EAAE,EAlBH;AAmBXuB,MAAAA,MAAM,EAAEhJ,KAAK,CAACgJ,MAnBH;AAoBX5B,MAAAA,oBAAoB,EAAE,QApBX;AAqBXX,MAAAA,UAAU,EAAE,EArBD;AAsBXwC,MAAAA,cAAc,EAAE,EAtBL;AAuBXvC,MAAAA,mBAAmB,EAAE,KAvBV;AAwBX7F,MAAAA,KAAK,EAAE,EAxBI;AAyBX4C,MAAAA,OAAO,EAAE;AAzBE,KAAb;AA2BA,SAAKuC,UAAL,GAAkB9G,KAAK,CAACgK,SAAN,EAAlB;AACA,SAAKC,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKnJ,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBmJ,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKG,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBH,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKI,eAAL,GAAuB,KAAKA,eAAL,CAAqBJ,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKK,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDM,EAAAA,iBAAiB,GAAG;AAClB,UAAM7I,KAAK,GAAGxB,QAAQ,EAAtB;AACA,SAAKc,QAAL,CAAc;AAAEU,MAAAA,KAAK,EAAEA;AAAT,KAAd;AACA,SAAK8I,UAAL,GAAkBtC,WAAW,CAAC,KAAKuC,KAAL,CAAWR,IAAX,CAAgB,IAAhB,CAAD,EAAwB,IAAxB,CAA7B;AACD;;AAEDS,EAAAA,oBAAoB,GAAG;AACrBC,IAAAA,aAAa,CAAC,KAAKH,UAAN,CAAb;AACD;;AAEDC,EAAAA,KAAK,GAAG;AACN;AACA,QAAI,KAAK5J,KAAL,CAAW+J,YAAf,EAA6B;AAC3B,WAAKR,iBAAL;AACD;AACF;;AAMDJ,EAAAA,uBAAuB,GAAG;AACxB,SAAKhJ,QAAL,CAAc;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAd;AACD;;AAEDiJ,EAAAA,eAAe,GAAG;AAChB,SAAKlJ,QAAL,CAAc;AAAE2E,MAAAA,cAAc,EAAE;AAAlB,KAAd;AACD;;AAEDwE,EAAAA,aAAa,GAAG;AACd,SAAKnJ,QAAL,CAAc;AAAE+H,MAAAA,cAAc,EAAE;AAAlB,KAAd;AACD;;AAEDqB,EAAAA,iBAAiB,GAAG;AAClB,SAAKpJ,QAAL,CAAc;AAAE0I,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACD;;AAEDW,EAAAA,eAAe,GAAG;AAChB,SAAKrJ,QAAL,CAAc;AAAE2I,MAAAA,cAAc,EAAE;AAAlB,KAAd;AACA,SAAK3I,QAAL,CAAc;AAAEgC,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACA,SAAKhC,QAAL,CAAc;AAAEkD,MAAAA,gBAAgB,EAAE;AAApB,KAAd;AACA0B,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;;AA0HD+E,EAAAA,WAAW,CAACC,SAAD,EAAY;AACrB,QAAIC,gBAAgB,GAAG1F,IAAI,CAAC2F,KAAL,CAAWnD,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAvB;;AACA,QAAIiD,gBAAJ,EAAsB;AACpBnF,MAAAA,MAAM,CAACqF,WAAP,CAAmBC,OAAnB,CAA2BH,gBAA3B;AACA9F,MAAAA,OAAO,CAACC,GAAR,CAAYG,IAAI,CAAC2F,KAAL,CAAWnD,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAZ;AACD;;AACD,SAAK9G,QAAL,CAAc;AAAE0I,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACA,QAAIrI,UAAU,GAAGpB,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACA,QAAI4G,OAAO,GAAG/H,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,EAAd;AACA,QAAIgE,UAAU,GAAGnF,CAAC,CAAC,YAAD,CAAD,CAAgBmB,GAAhB,EAAjB;AACA,QAAIsE,OAAO,GAAGzF,CAAC,CAAC,SAAD,CAAD,CAAamB,GAAb,EAAd;AACA,QAAI+J,QAAQ,GAAG,CAAf;AACA,QAAIvI,SAAS,GAAG,KAAK/B,KAAL,CAAWgC,sBAA3B;AACA,QAAIuI,aAAa,GAAG,MAApB;AACA,QAAIjK,OAAO,GAAGlB,CAAC,CAAC,UAAD,CAAD,CAAcmB,GAAd,EAAd;AACA,SAAKJ,QAAL,CAAc;AACZsD,MAAAA,OAAO,EAAE;AADG,KAAd;AAGArE,IAAAA,CAAC,CAACoL,IAAF,CAAO;AACLC,MAAAA,IAAI,EAAE,MADD;AAELC,MAAAA,GAAG,EAAEpK,OAAO,GAAG,iBAFV;AAGL6C,MAAAA,IAAI,EAAE;AACJ3C,QAAAA,UAAU,EAAEA,UADR;AAEJ+D,QAAAA,UAAU,EAAEA,UAFR;AAGJ4C,QAAAA,OAAO,EAAEA,OAHL;AAIJxF,QAAAA,QAAQ,EAAEI,SAJN;AAKJwI,QAAAA,aAAa,EAAEA,aALX;AAMJ1F,QAAAA,OAAO,EAAEA,OANL;AAOJyF,QAAAA,QAAQ,EAAEA;AAPN,OAHD;AAYL;AACA;AAEA;AACAK,MAAAA,OAAO,EAAE,UAAU5J,GAAV,EAAe;AACtBqD,QAAAA,OAAO,CAACC,GAAR,CAAYtD,GAAZ;AACD;AAlBI,KAAP;AAoBA,SAAKZ,QAAL,CAAc;AACZsD,MAAAA,OAAO,EAAE;AADG,KAAd,EAtCqB,CA0CrB;AACD;;AAEDmH,EAAAA,SAAS,GAAG;AACV,QAAIzH,IAAI,GAAG;AACTvB,MAAAA,IAAI,EAAE,MADG;AAETiJ,MAAAA,GAAG,EAAE;AAFI,KAAX;AAIA,SAAK1K,QAAL,CAAc;AACZC,MAAAA,aAAa,EAAE;AADH,KAAd;AAGD;;AA4GDqJ,EAAAA,YAAY,GAAG;AACb,SAAKtJ,QAAL,CAAc;AAAE4I,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,SAAK5I,QAAL,CAAc;AAAEmF,MAAAA,cAAc,EAAE;AAAlB,KAAd;AACA,SAAKnF,QAAL,CAAc;AAAEqH,MAAAA,aAAa,EAAE;AAAjB,KAAd;;AACA,QAAI,KAAK5G,KAAL,CAAW6G,YAAX,IAA2B,CAA/B,EAAkC;AAChC;AACA1C,MAAAA,MAAM,CAAC2D,MAAP,CAAcC,WAAd,CAA0B,cAA1B,EAA0C,GAA1C;AACD,KAHD,MAGO;AACL5D,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;AACF,GAvXyC,CAwX1C;;;AA6EA6F,EAAAA,KAAK,CAAC3H,IAAD,EAAO;AACV,QAAI4H,MAAM,GACR,u/kBADF;AAGA,QAAIC,OAAO,GACT,+2gBADF;AAEA,QAAIC,SAAS,GACX,g4BADF;AAEA,QAAIC,WAAW,GAAGvH,QAAQ,CAACwH,cAAT,CAAwB,SAAxB,EAAmCC,SAArD;AACA,QAAIrD,CAAC,GAAGhD,MAAM,CAACsG,IAAP,CAAY,EAAZ,EAAgB,EAAhB,EAAoB,wBAApB,CAAR;AACAtD,IAAAA,CAAC,CAACpE,QAAF,CAAW2H,KAAX,CACE,kBAAkBP,MAAlB,GAA2BC,OAA3B,GAAqCC,SAArC,GAAiD,UADnD;AAGAlD,IAAAA,CAAC,CAACpE,QAAF,CAAW2H,KAAX,CAAiB,SAAjB;AACAvD,IAAAA,CAAC,CAACpE,QAAF,CAAW2H,KAAX,CAAiBJ,WAAjB;AACAnD,IAAAA,CAAC,CAACpE,QAAF,CAAW2H,KAAX,CAAiB,gBAAjB;AACAC,IAAAA,KAAK,CAACC,IAAN,CAAWpM,CAAC,CAAC2I,CAAC,CAACpE,QAAF,CAAWhB,IAAZ,CAAD,CAAmB8I,IAAnB,CAAwB,SAAxB,CAAX,EAA+C7F,OAA/C,CAAwDzC,IAAD,IAAU;AAC/D,UAAIuI,UAAU,GAAGtM,CAAC,CAAC+D,IAAD,CAAD,CAAQwI,IAAR,CAAa,OAAb,CAAjB;AACAvM,MAAAA,CAAC,CAAC+D,IAAD,CAAD,CAAQyI,KAAR,CACE,0CAA0CF,UAA1C,GAAuD,UADzD;AAGAtM,MAAAA,CAAC,CAAC+D,IAAD,CAAD,CAAQ0I,MAAR;AACD,KAND;AAOAN,IAAAA,KAAK,CAACC,IAAN,CAAWpM,CAAC,CAAC2I,CAAC,CAACpE,QAAF,CAAWhB,IAAZ,CAAD,CAAmB8I,IAAnB,CAAwB,OAAxB,CAAX,EAA6C7F,OAA7C,CAAsDzC,IAAD,IAAU;AAC7D,UAAI2I,QAAQ,GAAG1M,CAAC,CAAC+D,IAAD,CAAD,CAAQwI,IAAR,CAAa,OAAb,CAAf;AACAvM,MAAAA,CAAC,CAAC+D,IAAD,CAAD,CAAQyI,KAAR,CACE,6CACEE,QAAQ,CAACrJ,KAAT,CAAe,KAAf,EAAsB,CAAtB,CADF,GAEE,UAHJ;AAKArD,MAAAA,CAAC,CAAC+D,IAAD,CAAD,CAAQ0I,MAAR;AACD,KARD;AASA9D,IAAAA,CAAC,CAACpE,QAAF,CAAWoI,KAAX;AACAhE,IAAAA,CAAC,CAACiE,KAAF;AACD;;AAEDC,EAAAA,aAAa,GAAG;AACd,SAAKnB,KAAL,CAAW1L,CAAC,CAAC,UAAD,CAAD,CAAc+I,IAAd,EAAX;AACD;;AAED+D,EAAAA,YAAY,GAAG;AACb,SAAK/L,QAAL,CAAc;AAAE4I,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,QAAImB,gBAAgB,GAAG1F,IAAI,CAAC2F,KAAL,CAAWnD,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAvB;;AACA,QAAIiD,gBAAJ,EAAsB;AACpBnF,MAAAA,MAAM,CAACqF,WAAP,CAAmBC,OAAnB,CAA2BH,gBAA3B;AACD;AACF;;AAEDiC,EAAAA,MAAM,GAAG;AACP,UAAM;AACJ/L,MAAAA,aADI;AAEJ8H,MAAAA,cAFI;AAGJpD,MAAAA,cAHI;AAIJgE,MAAAA,cAJI;AAKJC,MAAAA,OALI;AAMJF,MAAAA,YANI;AAOJvF,MAAAA,cAPI;AAQJC,MAAAA,aARI;AASJE,MAAAA;AATI,QAUF,KAAK7C,KAVT;AAWA,wBACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG6C,OAAO,iBAAI,oBAAC,OAAD;AAAS,MAAA,WAAW,EAAE,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADd,eAEE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,QAAjB;AAA0B,MAAA,OAAO,EAAE,KAAKgF,gBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,CADF,eAQE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AACE,MAAA,SAAS,EAAC,2CADZ;AAEE,MAAA,UAAU,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE,oBAAC,QAAD,CAAU,MAAV;AAAiB,MAAA,EAAE,EAAC,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE,oBAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKzI,KAAL,CAAWoM,WAAX,CAAuBC,oBAAvB,iBACC,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,EAAE,EAAC,kBADL;AAEE,MAAA,MAAM,EAAC,QAFT;AAGE,MAAA,OAAO,EAAE,KAAK1E,eAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,EAUG,KAAK3H,KAAL,CAAWoM,WAAX,CAAuBE,aAAvB,iBACC,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,OAAO,EAAG9G,CAAD,IAAO;AACd,aAAKoF,SAAL;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAXJ,EAmBG,KAAK5K,KAAL,CAAWoM,WAAX,CAAuBE,aAAvB,iBACC,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,IAAI,EACF,KAAK1L,KAAL,CAAWoI,MAAX,GACA,wBADA,GAEA,KAAKpI,KAAL,CAAW8D,SAFX,GAGA,GAHA,GAIA,KAAK9D,KAAL,CAAW+D,SANf;AAQE,MAAA,MAAM,EAAC,QART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BApBJ,EAiCG,KAAK3E,KAAL,CAAWoM,WAAX,CAAuBG,WAAvB,IACC,KAAK3L,KAAL,CAAW8D,SAAX,KAAyB,QAD1B,iBAEG,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,OAAO,EAAGc,CAAD,IAAO;AACd,aAAKrF,QAAL,CAAc;AAAE2E,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAnCN,EA2CG,KAAK9E,KAAL,CAAWoM,WAAX,CAAuBI,YAAvB,iBACC,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,EAAE,EAAC,cADL;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKxC,WAAL,CAAiB,KAAKpJ,KAAL,CAAWqJ,SAA5B,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA5CJ,EAmDG,KAAKjK,KAAL,CAAWoM,WAAX,CAAuBK,YAAvB,IACC,KAAK7L,KAAL,CAAW8D,SAAX,KAAyB,QAD1B,iBAEG,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,IAAI,EACF,KAAK9D,KAAL,CAAWoI,MAAX,GACA,sBADA,GAEA,KAAKpI,KAAL,CAAW8D,SAFX,GAGA,GAHA,GAIA,KAAK9D,KAAL,CAAW+D,SAJX,GAKA,GALA,GAMA,KAAK3E,KAAL,CAAWgC,sBARf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBArDN,EAmEG,KAAKhC,KAAL,CAAWoM,WAAX,CAAuBM,4BAAvB,iBACC,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,OAAO,EAAGlH,CAAD,IAAO;AACd,aAAKnF,0BAAL;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCApEJ,EA4EG,KAAKL,KAAL,CAAWoM,WAAX,CAAuBO,UAAvB,IACC,KAAK/L,KAAL,CAAW8D,SAAX,KAAyB,QAD1B,iBAEG,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,OAAO,EAAGc,CAAD,IAAO;AACd,aAAKrF,QAAL,CAAc;AAAE2I,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA9EN,eAsFE,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,OAAO,EAAGtD,CAAD,IAAO;AACd,aAAKyG,aAAL;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAtFF,CALF,CADF,EAqGG,KAAKjM,KAAL,CAAWoM,WAAX,CAAuBQ,aAAvB,IACC,CAAC,KAAK5M,KAAL,CAAWoM,WAAX,CAAuBS,GADzB,iBAEG;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,wBAFZ;AAGE,MAAA,OAAO,EAAGrH,CAAD,IAAO;AACd,aAAK0G,YAAL;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvGN,eAqHE;AAAM,MAAA,SAAS,EAAC,wCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEY,GAFZ,CArHF,eAyHE;AAAM,MAAA,SAAS,EAAC,uCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,WAEQ,GAFR,CAzHF,CARF,EAuIG9L,aAAa,iBACZ,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,sBADZ;AAEE,MAAA,OAAO,EAAC,SAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAK+I,uBAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,aAAD;AACE,MAAA,sBAAsB,EAAE,KAAKnJ,KAAL,CAAWgC,sBADrC;AAEE,MAAA,sBAAsB,EAAE,KAAK/B,kBAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAxIJ,EAoJGiI,cAAc,iBACb,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAC,WAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAKoB,aAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CArJJ,EA8JGT,YAAY,iBACX,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAC,WAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAKU,iBAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0RAFF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uJATF,CANF,CA/JJ,EAsLGR,OAAO,iBACN,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,iBADZ;AAEE,MAAA,OAAO,EAAC,UAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAKU,YAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEG,KAAK7I,KAAL,CAAW4G,aAAX,gBACC;AAAM,MAAA,QAAQ,EAAE,KAAKX,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADF,CADF,eAME;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,MAAA,SAAS,EAAC,4BADZ;AAEE,MAAA,IAAI,EAAC,eAFP;AAGE,MAAA,EAAE,EAAC,YAHL;AAIE,MAAA,QAAQ,EAAE,KAAK1B,gBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAQE;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKvE,KAAL,CAAW0E,cADd,CARF,CADF,eAaE;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,MAAA,GAAG,EAAE,KAAKU,UADZ;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,SAAS,EAAC,4BAHZ;AAIE,MAAA,EAAE,EAAC,iBAJL;AAKE,MAAA,QAAQ,MALV;AAME,MAAA,MAAM,MANR;AAOE,MAAA,QAAQ,EAAGR,CAAD,IAAO,KAAKW,mBAAL,CAAyBX,CAAzB,CAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAWE;AACE,MAAA,OAAO,EAAGA,CAAD,IAAO;AACd,aAAKO,iBAAL,CAAuBP,CAAvB;AACD,OAHH;AAIE,MAAA,SAAS,EAAC,uCAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,EAMmD,GANnD,eAOE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPF,CAXF,EAqBG,KAAK5E,KAAL,CAAW+E,cAAX,CAA0B5B,MAA1B,GAAmC,CAAnC,iBACC,uDACE,oBAAC,oBAAD;AACE,MAAA,gBAAgB,EAAE,KAAKwB,gBADzB;AAEE,MAAA,gBAAgB,EAAE,KAAK3E,KAAL,CAAW+E,cAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAtBJ,EA6BG,KAAK/E,KAAL,CAAW8F,mBAAX,iBACC;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK9F,KAAL,CAAW6F,UADd,CA9BJ,CAbF,eAiDE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,KAAK,EAAE,KAAKzG,KAAL,CAAW0E,SAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAME;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAK1E,KAAL,CAAWgC,sBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAWE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAW2E,SAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAgBE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,IAAI,EAAC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,eAiBE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,IAAI,EAAC,SAA1B;AAAoC,MAAA,KAAK,EAAC,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBF,CAjDF,CANF,eA2EE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,0CAFZ;AAGE,MAAA,KAAK,EAAE,KAAK/D,KAAL,CAAWwG,oBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA3EF,CADD,gBAqFC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAvFJ,CANF,CAvLJ,EA4RG0B,cAAc,iBACb,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,OAAO,EAAC,WAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAKU,eAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAGG,KAAK5I,KAAL,CAAWyC,gBAAX,iBACC;AAAM,MAAA,QAAQ,EAAE,KAAKjB,eAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,EAAE,EAAC,SAHL;AAIE,MAAA,MAAM,EAAC,UAJT;AAKE,MAAA,QAAQ,EAAE,KAAKf,gBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKT,KAAL,CAAWuB,YADd,CARF,eAWE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,gBAFP;AAGE,MAAA,KAAK,EAAE,KAAKnC,KAAL,CAAW0E,SAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAgBE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,cAFP;AAGE,MAAA,KAAK,EAAE,KAAK1E,KAAL,CAAWgC,sBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,eAqBE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,gBAFP;AAGE,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAW2E,SAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,eA0BE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,KAAK,EAAC,MAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1BF,eA+BE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,KAAK,EAAC,QAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/BF,CAJF,CADF,eA2CE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,+BAFZ;AAGE,MAAA,KAAK,EAAC,QAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA3CF,CAJJ,EAwDGrB,cAAc,iBACb;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAzDJ,EA2DGC,aAAa,iBACZ;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BA5DJ,CANF,CA7RJ,EAqWGuB,cAAc,iBACb,oBAAC,YAAD;AACE,MAAA,SAAS,EAAC,aADZ;AAEE,MAAA,OAAO,EAAC,SAFV;AAGE,MAAA,SAAS,EAAC,IAHZ;AAIE,MAAA,YAAY,EAAE,KAAKuE,eAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,OAAO,EAAE,KAAK7F,WAFhB;AAGE,MAAA,SAAS,EAAC,iCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,CAtWJ,CADF,CAFF,CADF;AA8XD;;AA/3ByC;;AAk4B5C,eAAe3D,aAAf","sourcesContent":["import React from 'react';\nimport '../css/journals-main.css';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport $ from 'jquery';\nimport { getToken } from '../../../utils/authMethods';\nimport AIPredication from './dynamic-ai-predication';\nimport DynamicModal from '../modals/dynamic-modal';\nimport SubmitAttachmentData from '../submitAttachment/submitAttachment';//\nimport StyleList from './dynamic-style-list';\n//import { setIsLoading } from '../../../utils/reusuableFunctions';\nimport { downloadBase64File } from '../../../utils/download';\nimport Loading from '../loading/spinningCircle';\nconst fileSizeLimit = 30720; // 300 MB upload file size limit\n\nclass DynamicHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openEditModal: false,\n      PDFStatusModal: false,\n      openStyleModal: false,\n      openPdfModal: false,\n      showXmlSuccess: false,\n      showXmlFailed: false,\n      ProjectId: props.ProjectId,\n      ChapterId: props.ChapterId,\n      UPLOADPDFModal: false,\n      xml_filevalue: '',\n      xml_file_err: '',\n      xmluploadcontent: true,\n      ARModal: false,\n      prooftext: '',\n      attachmentFile: [],\n      prooftexterror: '',\n      authorcontent: true,\n      submitStatus: '',\n      APIURL: props.APIURL,\n      editorSubmittingText: 'Submit',\n      statusText: '',\n      diffFileStatus: '',\n      showAttachmentError: false,\n      token: '',\n      loading: false,\n    };\n    this.fileDialog = React.createRef();\n    this.AIPredicationModalClose = this.AIPredicationModalClose.bind(this);\n    this.AIPredicationModal = this.AIPredicationModal.bind(this);\n    this.StyleModalClose = this.StyleModalClose.bind(this);\n    this.PDFModelClose = this.PDFModelClose.bind(this);\n    this.openPdfModelClose = this.openPdfModelClose.bind(this);\n    this.XMLUPModelClose = this.XMLUPModelClose.bind(this);\n    this.ARModalClose = this.ARModalClose.bind(this);\n  }\n\n  componentDidMount() {\n    const token = getToken();\n    this.setState({ token: token });\n    this.intervalId = setInterval(this.timer.bind(this), 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  timer() {\n    //Close modal when pdf is done\n    if (this.props.pdfIsCreated) {\n      this.openPdfModelClose();\n    }\n  }\n\n  AIPredicationModal = (childData) => {\n    this.setState({ openEditModal: childData });\n  };\n\n  AIPredicationModalClose() {\n    this.setState({ openEditModal: false });\n  }\n\n  StyleModalClose() {\n    this.setState({ openStyleModal: false });\n  }\n\n  PDFModelClose() {\n    this.setState({ PDFStatusModal: false });\n  }\n\n  openPdfModelClose() {\n    this.setState({ openPdfModal: false });\n  }\n\n  XMLUPModelClose() {\n    this.setState({ UPLOADPDFModal: false });\n    this.setState({ xml_file_err: '' });\n    this.setState({ xmluploadcontent: false });\n    window.location.reload(false);\n  }\n\n  downloadOriginalManuscript = () => {\n    let api_url = $('#api_url').val();\n    let project_id = $('#projectid').val();\n    fetch(api_url + '/VXE/originalManuscript/' + project_id, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'lanstad-token': this.state.token,\n      },\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        downloadBase64File(\n          response.mimetype,\n          response.content,\n          response.file_name\n        );\n      });\n  };\n\n  onxmlfileHandler = (event) => {\n    var xml_err = '';\n    var file = event.target.files[0];\n    var filename = file.name;\n    var coming_file = filename.toLowerCase();\n    var filename1 = this.props.selectedChapterXmlName;\n    var org_file = filename1.toLowerCase();\n    if (coming_file == org_file) {\n      this.setState({ xml_filevalue: file });\n      xml_err = '';\n      this.setState({ xml_file_err: '' });\n    } else {\n      xml_err = \"Filename doesn't match\";\n      this.setState({ xml_file_err: xml_err });\n    }\n  };\n\n  UploadXMLSubmit = (event) => {\n    event.preventDefault();\n    var filename = event.target.xml_file.value;\n    var xml_err = '';\n    if (filename == '') {\n      xml_err = 'file is empty';\n      this.setState({ xml_file_err: xml_err });\n    } else {\n      var ext = filename.split('.').pop();\n      if (ext != 'xml') {\n        xml_err = 'XML file only accepted';\n        this.setState({ xml_file_err: xml_err });\n      } else {\n        xml_err = '';\n        this.setState({ xml_file_err: xml_err });\n      }\n    }\n    if (xml_err == '') {\n      const method = 'POST';\n      const body = new FormData();\n      body.append('bk_file', this.state.xml_filevalue);\n      body.append('project_id', event.target.xml_project_id.value);\n      body.append('filename', event.target.xml_filename.value);\n      body.append('chapter_id', event.target.xml_chapter_id.value);\n      body.append('user_id', event.target.xml_user_id.value);\n      body.append('task_id', event.target.xml_task_id.value);\n\n      var api_url = $('#api_url').val();\n      fetch(api_url + '/VXE/UploadXmlVXE', { method, body })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.status == 'success') {\n            this.setState({ xmluploadcontent: false });\n            this.setState({ showXmlSuccess: true });\n          } else {\n            this.setState({ showXmlFailed: true });\n            this.setState({ xmluploadcontent: false });\n          }\n        });\n    }\n  };\n\n  StyleConfig = () => {\n    //setIsLoading(true, ['body']);\n    this.setState({\n      loading: true,\n    });\n    var checkboxes = document.getElementsByClassName('style-checkbox');\n    var checkboxesChecked = [];\n    var api_url = $('#api_url').val();\n    for (var i = 0; i < checkboxes.length; i++) {\n      if (checkboxes[i].checked) {\n        var groupname = checkboxes[i].getAttribute('data-group');\n        var id = checkboxes[i].getAttribute('data-id');\n\n        console.log('Group Name: ' + groupname);\n        checkboxesChecked.push({\n          id: id,\n          name: checkboxes[i].value,\n          groupname: groupname,\n        });\n      }\n    }\n    var project_id = $('#projectid').val();\n    var chapter_id = $('#chapterid').val();\n    fetch(api_url + '/VXE/StyleEditingConfig/', {\n      method: 'POST',\n      body: JSON.stringify({\n        ProjectId: project_id,\n        ChapterId: chapter_id,\n        checkItem: checkboxesChecked,\n        user_id: 183,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        //setIsLoading(false, ['body']);\n        this.setState({ openStyleModal: false, loading: false });\n        window.location.reload(false);\n      })\n      .catch(console.log);\n  };\n\n  InDesignPDF(projectId) {\n    let dataLocalStorage = JSON.parse(localStorage.getItem('proEditorData'));\n    if (dataLocalStorage) {\n      window.EditorTools.callAPI(dataLocalStorage);\n      console.log(JSON.parse(localStorage.getItem('proEditorData')));\n    }\n    this.setState({ openPdfModal: true });\n    var project_id = $('#projectid').val();\n    var task_id = $('#taskid').val();\n    var chapter_id = $('#chapterid').val();\n    var user_id = $('#userid').val();\n    var lxe_flag = 1;\n    var filename1 = this.props.selectedChapterXmlName;\n    var filename_path = 'test';\n    var api_url = $('#api_url').val();\n    this.setState({\n      loading: true,\n    });\n    $.ajax({\n      type: 'POST',\n      url: api_url + '/VXE/ChapterPDF',\n      data: {\n        project_id: project_id,\n        chapter_id: chapter_id,\n        task_id: task_id,\n        filename: filename1,\n        filename_path: filename_path,\n        user_id: user_id,\n        lxe_flag: lxe_flag,\n      },\n      // beforeSend: function () {\n      //   setIsLoading(true, ['body']);\n\n      // },\n      success: function (res) {\n        console.log(res);\n      },\n    });\n    this.setState({\n      loading: false,\n    });\n\n    //setIsLoading(false, ['body']); //Question.   added this in as it looks like loader was set but not unset . correct if wrong??\n  }\n\n  AIstartup() {\n    let data = {\n      name: 'John',\n      age: 30,\n    };\n    this.setState({\n      openEditModal: true,\n    });\n  }\n\n  onAuthoreHandler = (event) => {\n    event.preventDefault();\n    var proof_err = '';\n    var prooftext = event.target.value;\n    if (prooftext !== '' && prooftext !== null) {\n      this.setState({ prooftext: prooftext });\n      proof_err = '';\n      this.setState({ prooftexterror: '' });\n    } else {\n      proof_err = 'Please give me any comments';\n      this.setState({ prooftexterror: proof_err });\n    }\n  };\n\n  removeAttachment = (e, removedIndex) => {\n    e.preventDefault();\n    let arr = [];\n    this.state.attachmentFile.forEach((item, index) => {\n      if (index !== removedIndex) {\n        arr.push(item);\n      }\n    });\n    this.setState({ attachmentFile: arr });\n  };\n\n  triggerChooseFile = (e) => {\n    e.preventDefault();\n    this.fileDialog.current.click();\n  };\n\n  onAuthorfileHandler = (e) => {\n    let allowAttachment = true;\n    const filesSelected = [...e.target.files];\n    const filesToUpload = filesSelected.filter((file) => {\n      if (file.size / 1024 > fileSizeLimit) {\n        this.setState({\n          statusText:\n            'The file selected is too large. The maximum supported file size is 300MB.',\n        });\n        this.setState({ showAttachmentError: true });\n        allowAttachment = false;\n        return false;\n      } else {\n        this.setState({ showAttachmentError: false });\n      }\n    });\n    if (allowAttachment) {\n      let addAttachVal = this.state.attachmentFile.concat(filesSelected);\n      this.setState({ attachmentFile: addAttachVal });\n    }\n  };\n\n  AuthorSubmit = (event) => {\n    event.preventDefault();\n    var proof_err = '';\n    var authorComments = this.state.prooftext;\n    var magicCode = localStorage.getItem('magic-code');\n    var lanstadToken = localStorage.getItem('lanstad-token');\n    var user_id = $('#userid').val();\n    var task_id = $('#taskid').val();\n\n    if (authorComments !== '' && authorComments !== null) {\n      this.setState({ editorSubmittingText: 'Submitting' });\n      setInterval(() => {\n        if (!this.state.editorSubmittingText.includes(`.`)) {\n          this.setState({ editorSubmittingText: `Submitting.` });\n        } else if (this.state.editorSubmittingText.includes(`...`)) {\n          this.setState({ editorSubmittingText: `Submitting` });\n        } else if (this.state.editorSubmittingText.includes(`..`)) {\n          this.setState({ editorSubmittingText: `Submitting...` });\n        } else if (this.state.editorSubmittingText.includes(`.`)) {\n          this.setState({ editorSubmittingText: `Submitting..` });\n        }\n      }, 300);\n\n      const method = 'POST';\n      const body = new FormData();\n      this.state.attachmentFile.forEach((image_file) => {\n        body.append('author_file[]', image_file);\n      });\n      body.append('author_text', authorComments);\n      body.append('project_id', event.target.project_id.value);\n      body.append('filename', event.target.filename.value);\n      body.append('chapter_id', event.target.chapter_id.value);\n      body.append('user_id', user_id);\n      body.append('task_id', task_id);\n      body.append('magic_code', magicCode);\n      body.append('lanstad_token', lanstadToken);\n\n      var api_url = $('#api_url').val();\n      fetch(api_url + '/VXE/AuthorSubmit', { method, body })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.status == 'success') {\n            this.setState({ authorcontent: false });\n            this.setState({ submitStatus: 1 });\n          } else {\n            alert(JSON.stringify(data, null, '\\t'));\n          }\n        });\n    } else {\n      proof_err = 'Please give me any comments';\n      this.setState({ prooftexterror: proof_err });\n    }\n  };\n\n  ARModalClose() {\n    this.setState({ ARModal: false });\n    this.setState({ prooftexterror: '' });\n    this.setState({ authorcontent: false });\n    if (this.state.submitStatus == 1) {\n      // For Author Submit process\n      window.parent.postMessage('submitReload', '*');\n    } else {\n      window.location.reload(false);\n    }\n  }\n  //Question. there is a question below. if the answer to that is that we need to have a loader here then would it not make more sense to add it above the fetch and remove it after ??\n  ChapterDownload = () => {\n    var api_url = $('#api_url').val();\n    var chapter_id = $('#chapterid').val();\n    var project_id = $('#projectid').val();\n    var user_id = $('#userid').val();\n    fetch(api_url + '/VXE/ChapterPdfInProgress/', {\n      method: 'POST',\n      body: JSON.stringify({\n        ProjectId: project_id,\n        ChapterId: chapter_id,\n        filename: this.props.selectedChapterXmlName,\n        user_id: user_id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        $('.message-status').empty();\n        $('#chapter_download').show();\n        if (data.status_id == 1) {\n          let a = document.createElement('a');\n          a.target = '_blank';\n          a.href =\n            api_url +\n            '/VXE/ChapterPdfDownloadJournals/' +\n            project_id +\n            '/' +\n            chapter_id +\n            '/' +\n            this.props.selectedChapterXmlName;\n          a.click();\n        } else if (data.status_id == -1) {\n          this.setState({ PDFStatusModal: true });\n          $('.message-status').html(\n            '<p class=\"pdf-msg\">' +\n              data.message +\n              '</p><p class=\"pdf-error\">' +\n              data.remarks +\n              '</p>'\n          );\n        } else {\n          $('#chapter_download').hide();\n          //Question - do we even need one here too? all this block of code does is add a loader and thats it?\n          //todo bad code\n          // var loaderlength = $(\".loading-wrapper\").length;\n          // if (loaderlength === 0) {\n          //   $(\".thumb-pdf\").append(\n          //     '\\\n          //                   <div class=\"loading-wrapper\">\\\n          //                       <div class=\"loader\">\\\n          //                           <div class=\"brand\">\\\n          //                           <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 45 45\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"45\" height=\"45\" rx=\"22.5\"></rect></defs><g id=\"Books\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"brand\" transform=\"translate(22.500000, 22.500000) rotate(180.000000) translate(-22.500000, -22.500000) \"><mask id=\"mask-2\" fill=\"white\"><use xlink:href=\"#path-1\"></use></mask><use id=\"Rectangle-2\" fill=\"#EC662F\" xlink:href=\"#path-1\"></use><path d=\"M22.5,0 L45,0 L45,0 L0,45 L0,22.5 C-1.52179594e-15,10.0735931 10.0735931,2.28269391e-15 22.5,0 Z\" id=\"Rectangle-3\" fill=\"#FCBF00\" mask=\"url(#mask-2)\"></path></g></g></svg>\\\n          //                           </div>\\\n          //                           <p>Creating PDF</p>\\\n          //                       </div>\\\n          //                   </div>\\\n          //               '\n          //   );\n          // }\n          // $(\".thumb-pdf .loading-wrapper\").show();\n        }\n\n        if (data.generatedPDFstatus == 1) {\n          $('#generate-pdf').show();\n        } else {\n          $('#generate-pdf').hide();\n        }\n        $('#taskid').val(data.taskId);\n      })\n      .catch(console.log);\n  };\n\n  fullScreenAction = () => {\n    window.parent.postMessage('fullScreen', '*');\n    $('#root').toggleClass('focus-mode-on');\n  };\n\n  Popup(data) {\n    let cssVal =\n      'footnote{text-indent:11pt;display:block;font-size:10.5pt}title-group>article-title{margin-top:35px;font-size:25px;margin-bottom:-19px;font-weight:700}minitoc{max-width:40em;padding:0;overflow-x:hidden;list-style:none}minitoc>para{overflow:hidden}minitoc>para1{overflow:hidden;font-size:11pt;display:block;text-indent:11pt}minitoc>para1:before{float:left;width:0;white-space:nowrap;content:\". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \"}minitoc>para:before{float:left;width:0;white-space:nowrap;content:\". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \" \". . . . . . . . . . . . . . . . . . . . \"}minitoc span1{padding-right:.33em;background:#fff;overflow:hidden}minitoc span1+span2{float:right;padding-left:.33em;background:#fff}chapter ol{font-size:11pt}chapter ul{font-size:11pt}footnote para{display:inline!important}footnote footnoteno{display:inline!important;font-size:9pt}footnote footnoteno:after{content:\".A\";display:inline!important;font-size:9pt}#rotate{width:571pt;margin-top:125pt;margin-bottom:0;margin-left:-90pt;margin-right:0;-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}landscapePageOut::before{margin-top:51pt;margin-bottom:13pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}landscapePage pageno::before{margin-top:0!important;margin-bottom:0!important;content:\"\"!important;display:none!important;background-color:#000!important;margin-right:0!important;margin-left:0!important}landscapePage pagenor::before{margin-top:0!important;margin-bottom:0!important;content:\"\"!important;display:none!important;background-color:#000!important;margin-right:0!important;margin-left:0!important}landscapePage table{background-color:#fff;background-size:379pt;margin-bottom:272pt}landscapePage lh,landscapePage rh{margin-top:-14pt;text-align:right;margin-right:47pt;font-style:italic}landscapePage pageno{margin-right:30pt;margin-top:40pt}landscapePage pagenor{margin-right:45pt;margin-top:40pt}landscapePage paraChange{font-size:10.5pt;display:block;text-indent:11pt}landscapePage{margin-bottom:-202pt;display:table-caption;transform:rotate(90deg);background:#fff;background-color:#fff;margin-top:-157pt;margin-top:-151pt;width:400pt;margin-left:-42px;height:674pt}pageno{display:inline;text-align:right;font-size:11pt;margin-top:15pt;font-style:italic}pagenor{display:block;text-align:right;font-size:11pt;margin-top:15pt;font-style:italic}pagenob{display:block;text-align:right;font-size:11pt;margin-top:15pt;margin-bottom:-20pt;font-style:italic}lh{display:block;text-align:right;font-size:11pt;margin-top:-12pt;font-style:italic;margin-bottom:17pt}rh{display:block;text-align:left;font-size:11pt;margin-top:-12pt;font-style:italic;margin-bottom:17pt}rh:before{content:\"     •  \";white-space:pre}lh:after{content:\"  •     \";white-space:pre}pageno::before{margin-top:62pt;margin-bottom:51pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}pagenor::before{margin-top:64pt;margin-bottom:51pt;content:\" \";white-space:pre;display:block;background-color:silver;margin-right:-83px;margin-left:-82px}equation{font-size:10pt!important;display:block;margin-bottom:12pt;margin-top:12pt;text-align:center;word-spacing:-1.1pt!important}equation>caption1{font-size:22px;float:right}mtr mi{font-style:italic!important}msub mi:last-child{vertical-align:sub}msup mn:last-child{vertical-align:super}annotation{display:none}chapter>label1{font-size:23pt;text-align:left;display:block;margin-bottom:10pt;font-weight:700;-webkit-text-stroke-width:.05pt;text-align:center}article>title1{font-size:20pt;text-align:left;display:block;margin-bottom:5pt;font-weight:400;margin-top:0;font-weight:700;text-align:center}minitoc title1{font-size:12pt;text-align:left;display:block;font-weight:700;text-transform:uppercase;margin-top:18pt;margin-bottom:11pt}minitoc para{font-size:11pt;text-align:left;display:block;margin-bottom:2pt;text-indent:0!important;font-weight:400}info::before{width:90pt;margin-top:0;margin-bottom:3pt;white-space:pre;border-top:solid;display:block;border-width:1pt}abstract,keywordset{display:none}info{display:block;margin-top:0;margin-bottom:22pt}book info address{display:inline;font-size:9pt;text-align:left;font-style:italic}blockquote{display:block;-webkit-margin-before:1em;-webkit-margin-after:1em;-webkit-margin-start:16px;-webkit-margin-end:40px;font-size:10pt}blockquote+para,ol+para,ul+para{text-indent:0!important}info author:after{font-size:13pt;text-align:left;display:inline;margin-bottom:63pt;margin-top:-5pt;font-style:italic;content:\", \"}info author:last-of-type:after{content:none!important;white-space:pre}info author{font-size:13pt;text-align:left;display:inline;margin-bottom:63pt;margin-top:-5pt;font-style:italic}bibliography>title1{font-size:12pt;margin-top:36pt;margin-bottom:13pt;display:block;font-weight:700;text-transform:uppercase}bibliography bibliomixed{font-size:10pt;display:block;text-indent:11pt;font-size:9pt;font-weight:400}bibliomixed,bibliomixed address,bibliomixed link1,bibliomixed pubdate,bibliomixed publishername,bibliomixed title1{font-size:10pt;display:initial;text-indent:11pt;font-size:9pt;font-weight:400}bibliomixed{font-size:10pt;display:initial;text-indent:11pt;font-size:9pt;font-weight:400}article span{font-size:inherit}italic span{font-size:13px}aff{display:block;margin-top:12pt;font-size:10pt}abstract1{display:block;margin-top:15pt}kwd-group{display:block;margin-top:6pt;margin-bottom:8pt;font-size:10pt}pp1 span{font-size:11pt!important}article>pp1>span{font-size:11pt!important}article pp1{font-size:12pt;display:block;text-indent:0;margin-top:4pt;line-height:2.3}article para[role~=break]{text-align-last:justify}article para[role~=cont]{text-indent:0!important}section1 para:first-of-type{text-indent:0}chapter>para:first-of-type{text-indent:0;margin-bottom:4pt}li para{text-indent:0;display:inline;font-size:11pt;display:block}chapter li ol{margin:0 0!important;margin-left:-22pt!important}chapter li ul{margin:0 0!important}[role~=italic]{font-style:italic}[role~=bold]{font-weight:700}[role~=sub]{vertical-align:sub;font-size:smaller}[role~=super]{vertical-align:super;font-size:smaller}book,chapter{width:346pt!important;padding:71pt 61pt 71pt 61pt;-webkit-text-stroke-width:.0053pt;word-spacing:.09pt;text-align:justify}sec>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec>sec>title1{margin-top:25pt}sec>sec>sec>title1{font-size:11pt;font-weight:400;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic}sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec[sec-type=H2]>title1{font-size:11pt}sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic}sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important}ack title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=JME] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#6f2f6e}article[role=JME] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#6f2f6e}article[role=JME] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#6f2f6e}article[role=ECC] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#196574}article[role=ECC] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=ECC] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#196574}article[role=ECC] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=VB] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:#196574}article[role=VB] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=VB] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:#196574}article[role=VB] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important}article[role=JOE] sec[sec-type=H1]>title1{font-size:17pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H2]>title1{font-size:13pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H1]>title1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H2]>title1{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H3]>title1{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=ERC] sec[sec-type=H4]>title1{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec>h1{font-size:12pt;margin-top:12pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important;color:rgba(0,5,117,.8)}article[role=JOE] sec>h2{font-size:11pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:15pt;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=JOE] sec>h3{font-size:10pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}article[role=JOE] sec>h4{font-size:9pt;font-weight:700;text-align:left;display:block;padding:0!important;margin-bottom:15pt;margin-top:18px;font-style:normal;text-transform:none;text-indent:-31pt;margin-left:33pt!important;margin-right:0!important;font-style:italic;color:rgba(0,5,117,.8)}jou[role=VB]{display:block;background-color:#196574;margin-left:-58px;margin-right:auto}jou[role=ERP]{display:block;background-color:#34686b;margin-left:-57px;margin-right:auto}jou[role=JME]{display:block;background-color:#6f2f6e;margin-left:-57px;margin-right:auto}jou[role=EJE]{display:block;background-color:#0c6bc5;margin-left:-58px;margin-right:auto}jou[role=REP]{display:block;background-color:#0c6bc5;margin-left:-58px;margin-right:auto}jou[role=ECC]{display:block;background-color:#196574;margin-left:-58px;margin-right:auto}jou[role=JOE]{display:block;background-color:rgba(0,5,117,.8);margin-left:-58px;margin-right:auto}jou[role=ERC]{display:block;background-color:rgba(0,5,117,.8);margin-left:-58px;margin-right:auto}jou[role=EDM]{display:block;background-color:rgba(117,0,64,.8);margin-left:-58px;margin-right:auto}article-type{display:block;font-style:italic;font-size:19pt;font-weight:700;margin-top:6pt}article[role=ERP]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=REP]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=EJE]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 51px 58px 62px;color:#fff}article[role=ECC]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 173px 36px 62px;color:#fff}article[role=VB]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 173px 36px 62px;color:#fff}article[role=JOE]>front>jou>name1 *{display:inline;margin-left:0;width:20px;font-size:37px;text-align:left!important;padding:31px 140px 58px 62px;color:#fff}article[role=ERC]>front>jou>name1 *{display:inline;margin-left:0;border:1px solid #fdfdfd;width:20px;font-size:37px;text-align:left!important;padding:31px 140px 58px 62px;color:#fff}jou[role=ERP]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:28pt}jou[role=REP]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:28pt}jou[role=ECC]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=VB]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=EDM]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px}jou[role=JOE]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=ERC]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=EJE]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:30pt}jou[role=JME]>name1{font-size:50pt;font-weight:400;text-align:center;display:block;color:#fff;margin-top:-10px;height:191px;padding-top:27pt}ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0}article[role=ECC] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=VB] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#196574}article[role=JME] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:#6f2f6e}article[role=JOE] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=ERC] ref-list>title1{font-size:12pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:0;font-weight:700;text-transform:none;text-indent:-20pt;margin-left:20pt;margin-right:0;color:rgba(0,5,117,.8)}article[role=REP] ref label1{display:none}article[role=JME] ref label1{display:none}article[role=JOE] ref label1{display:none}article[role=ERC] ref label1{display:none}fig>label1{font-size:11pt;display:inline}fig{display:block;margin-top:15pt}p fig{padding:0 0}fig>img{width:75%;display:block;margin:10px auto}figsource{font-size:8pt;font-weight:700}figure1>para{font-size:9pt;display:block;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:2pt;font-style:normal;word-spacing:-.91pt;text-transform:none}';\n\n    let cssVal2 =\n      'paraChange title1{font-size:9pt;display:inline;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:12pt;font-weight:700;font-style:normal;text-transform:none;margin-left:13pt}superscript{vertical-align:super;font-size:smaller}subscript{vertical-align:sub;font-size:smaller}para>title1{font-size:9pt;display:inline;text-align:left;padding:0!important;margin-top:12pt;font-weight:700;font-style:normal;text-transform:none;margin-bottom:1pt!important;margin-left:0!important;text-indent:0!important}fig>label1:after{content:\"  \";white-space:pre}fig>caption1>p1{font-size:11pt;display:inline;text-align:left;padding:0!important;margin-bottom:5pt;margin-top:12pt;font-style:normal;text-transform:none;margin-left:2pt;line-height:2.3}figure1>mediaobject{text-align:center;margin-left:-12pt;margin-top:15px;margin-bottom:5pt;display:block}figure1{display:block;margin-bottom:15pt;text-indent:0}para label1::after{content:\"   \";white-space:pre}section1>para>title1{font-size:9pt;display:block;text-align:left;padding:0!important;margin-bottom:15pt;margin-top:3pt;font-weight:400;font-style:normal;text-transform:none}para>link1{margin-bottom:15pt}table>thead>tr>td{padding-left:2pt;text-align:left;font-size:9pt;border:0;border-collapse:collapse;border-bottom:1.5px solid #000!important}table>thead>tr>td>tp{font-weight:700;padding-left:2pt;text-align:left;font-size:9pt;border:0;border-collapse:collapse;font-weight:700}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:0;border-collapse:collapse;padding-left:5pt;text-align:left}chapter imageobject>img{display:block;margin-left:auto;margin-right:auto;width:70%}article[role=EJE] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #0c6bc5;border-top:5.5px solid #0c6bc5}article[role=EDM] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(117,0,64,.8);border-top:5.5px solid rgba(117,0,64,.8)}article[role=ERP] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #34686b;border-top:5.5px solid #34686b}article[role=JME] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #6f2f6e;border-top:5.5px solid #6f2f6e}article[role=ECC] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #196574;border-top:5.5px solid #196574}article[role=VB] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid #196574;border-top:5.5px solid #196574}article[role=JOE] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(0,5,117,.8);border-top:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table>thead:first-child tr{border-collapse:collapse;border-bottom:2.5px solid rgba(0,5,117,.8);border-top:5.5px solid rgba(0,5,117,.8)}article[role=EJE] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #0c6bc5}article[role=JME] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px #6f2f6e}article[role=ECC] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #196574}article[role=VB] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid #196574}article[role=JOE] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table>tbody tr:first-child{border-collapse:collapse;border-top:5.5px solid rgba(0,5,117,.8)}article table>thead:first-child tr{border-collapse:collapse;border-bottom:1.5px solid #000}article table>thead>tr{border-bottom:1.5px solid #000;border-top:1.5px solid #000;border-collapse:collapse;font-size:8.5pt}tr>td:first-of-type{text-align:left!important}article>table{width:100%;display:table;text-indent:0;border:0;border-bottom:1.5px solid #000;border-top:1.5px solid #000;text-align:initial;margin-top:15pt}td[colspan=\"2\"]{text-align:center!important;font-size:8.5pt}para[role=bib_text]{display:-webkit-box;margin-left:11pt;text-indent:-11pt!important;font-size:9pt}para[role=bib_text]::first-line{text-indent:-11pt!important}bibliomixed{margin-left:4pt;text-indent:-1pt!important;font-size:9pt;margin-top:3pt}bibliomixed::first-line{text-indent:-11pt!important}chapter ul{-webkit-padding-start:33px!important}chapter ol{-webkit-padding-start:57px!important}chapter li para figure1{margin-left:-10pt}article para[role~=cont].show_para:after{content:\"¶\"}.show_para:after{cursor:text;content:\"¶\"}article para[role~=break]:after{content:none!important}fig label1::after{content:none!important}table1 label1::after{content:none!important}bibliomixed title1:after{content:none!important}article para[role~=cont].hidden_para:after{content:none!important}.hidden_para:after{cursor:text;content:none!important}poem>line{display:block;margin-top:10pt;font-size:10pt}poem>line:after{content:\"¶\"}poem>poemsource:after{content:\"¶\"}poem>poemsource{display:block;text-align:right;margin-top:6pt;margin-bottom:6pt;margin-right:120pt!important}poem{margin-top:21pt;margin-bottom:15pt;display:block;margin-left:22pt}poem>title1{margin-top:9pt;margin-bottom:9pt}table-wrap>label1{display:inline-block;margin-top:6pt!important;font-size:11pt}table-wrap{display:block;margin-top:10pt;margin-bottom:5pt}table-wrap>caption1>p1{display:inline!important;margin-left:2pt!important;font-size:11pt;line-height:2.3}table-wrap>table,table-wrap>tgroup>table{margin-top:6pt;width:100%}article[role=REP] table-wrap>table{margin-top:6pt;border-bottom:1.5px solid #000;border-top:1.5px solid #000}table1{display:block!important}tblfn{margin-bottom:10pt!important;display:block;font-weight:700}tblsource{margin-bottom:10pt!important;display:block;font-weight:700}article>para>table1{text-indent:0!important}section1>para>table1{text-indent:0!important}line:after{content:\"A\";white-space:pre}speaker{display:inline-block;margin-top:4pt;margin-left:-11pt}dialogue>line{text-indent:0!important;margin-left:1pt;display:inline;margin-top:0;font-size:10.5pt}dialogue{display:block;margin-left:10pt}ref>source1{display:inline-block;text-align:right}info1>title1{font-weight:700;font-style:normal;font-size:23pt;text-decoration:none;font-variant:normal;line-height:1.14;text-align:center;text-indent:0;display:block;margin-bottom:30pt;margin-top:50pt}info1>title2{font-weight:700;font-style:normal;font-size:27pt;text-decoration:none;font-variant:normal;line-height:1.14;text-align:center;color:#000;text-indent:0;margin:2em 0 0 0;display:block}info1>subtitle1{font-weight:700;font-style:normal;font-size:20pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block;margin-bottom:10pt}subtitle1{font-weight:700;font-style:normal;font-size:20pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block;margin-bottom:15pt}chapter[role=chapter]>info1>author{font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.29;text-align:center;color:#000;text-indent:0;margin:2em 0 10em 0;margin-bottom:10pt}chapter[role=prelims]>info1>author{font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.29;text-align:center;color:#000;text-indent:0;margin:2em 0 10em 0;margin-bottom:10pt}info1{text-align:center;display:block}contrib-group>contrib:first-of-type:before{content:\"\";white-space:pre}contrib-group>contrib:before{white-space:pre}contrib-group>contrib{font-weight:700;font-size:12pt}contrib-group{margin-top:30pt!important}kwd-group>kwd1:first-of-type:before{content:\"\";white-space:pre}biblioset phrase:first-of-type:before{content:\" \";background-color:#000;white-space:pre;margin-bottom:2pt;height:.5pt;display:block;border-bottom:1.5px solid #000!important}bibliomisc{font-weight:400;font-style:normal;font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:center;color:#000;text-indent:0;margin:0;padding:10px 0 0 0;display:block}bibliomisc:after{content:\"¶\"}cover>bibliolist>bibliomixed>bibliomisc{display:block!important;font-size:12pt}phrase{font-weight:400;font-style:normal;font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:left;color:#000;text-indent:0;margin:0;padding:0;display:block}phrase:after{content:\"¶\"}biblioset phrase:first-of-type{margin-top:21pt!important}biblioset phrase:last-of-type{margin-top:13pt!important}legalnotice>para{font-size:9pt;margin-top:7pt;display:block;text-align:left;text-indent:0}legalnotice>para:after{content:\"¶\"}address{font-size:9pt;text-decoration:none;font-variant:normal;line-height:1.11;text-align:left;color:#000;text-indent:-1px;display:block}copyright{text-align:right;display:block}notes>pp1{text-align:right;display:block;font-size:9pt;margin-top:55pt;font-weight:700;margin-block-end:0!important}notes>doi{text-align:right;display:block}notes>copyright{text-align:right;display:block}notes>subjecteditor{text-align:right;display:block}acknowledgements>title1{font-size:25pt;display:block;text-align:center}acknowledgements>para{font-size:11pt;margin-top:3pt;display:block}acknowledgements>para:after{content:\"¶\"}subtitle{font-weight:700;font-style:normal;font-size:16pt;text-decoration:none;font-variant:normal;line-height:1.25;text-align:center;color:#000;text-indent:0;margin:1em 0 0 0;display:block}bibliomixed title1:after{content:none}address city:after{content:none!important}preface{display:block;margin-top:27pt;margin-bottom:46pt}preface>title1{display:block;font-size:30pt;text-align:center;font-weight:700}preface>para{display:block;text-indent:1pt;margin-top:4pt}toc>title1{display:block;text-align:center;font-size:29pt}toc>para{display:block;text-indent:3pt;margin-top:4pt}chapter li.nostyle{list-style-type:none}chapter td>ul{-webkit-padding-start:0!important}inline-formula>inline-graphic{width:20pt!important;display:inline!important;margin-top:0!important}equation>mediaobject>imageobject>img{width:125pt!important}footnote1 superscript{color:#00f}epigraph>para{margin-left:85pt;margin-top:30pt;margin-bottom:14pt;margin-right:136pt}attribution{text-align:right;display:block;margin-right:135pt}para[role=symbol_para]{text-align:center;margin-top:10pt;margin-bottom:10pt}para[role=specialpara]{text-indent:1pt;margin-top:5pt}dedication{text-align:center;font-size:12pt;margin-top:10pt;margin-bottom:10pt;font-style:italic}info1>author>personname>surname:before{white-space:pre;content:\" \"}tp{display:block}query .fa-question-circle-o{color:red!important}informalfigure>mediaobject>imageobject>img{width:16%;margin-top:-7px}glossterm{display:inline}glossentry{display:block}glossentry{padding:0;overflow-x:hidden;list-style:none;margin-left:35pt}glossentry>glossterm{overflow:hidden}glossentry>glossdef{overflow:hidden;font-size:11pt;display:block;text-indent:11pt}glossentry>glossdef:before{float:left;width:0;white-space:nowrap;content:\"  \"}glossentry>glossterm:before{float:left;width:0;white-space:nowrap;content:\"  \"}glossentry glossterm{width:113pt;float:left;padding-right:.33em;background:#fff;overflow:hidden;font-size:10.5pt}glossentry glossterm+glossdef{width:480pt;text-indent:1pt;margin-left:30pt;float:left;padding-left:.33em;background:#fff;font-size:10.5pt}ref-list{display:block;font-size:11pt;padding-bottom:30px;text-align:justify}glossdef>para{display:inline}abbreviation>title1{display:block;font-size:30pt;text-align:center;font-weight:700}p{font-size:10.5pt;text-align:justify}sidebar{display:block;margin-top:10pt;margin-bottom:14pt;border-style:solid}abstract1>title1{display:block;font-size:14pt;font-weight:700}article[role=ECC] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#196574}article[role=VB] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#196574}article[role=JME] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:#6f2f6e}article[role=JOE] abstract1>title1{display:block;font-size:14pt;font-weight:700;color:rgba(0,5,117,.8)}article[role=EJE] ref>label1:after{content:\" \";display:inline-block}article[role=ECC] ref>label1:after{content:\" \";display:inline-block}article[role=VB] ref>label1:after{content:\" \";display:inline-block}fpage1{display:inline-block}lpage1{display:inline-block}lpage{display:none}ol[list-type=disc],ul[list-type=disc]{list-style-type:disc}issue1{display:inline-block}volume1{display:inline-block}pp1{display:block;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;font-size:10.5pt;text-align:justify}article[role=EJE] table{border-bottom:5.5px solid #0c6bc5}article[role=EDM] table{border-bottom:5.5px solid rgba(117,0,64,.8)}article[role=ERP] table{border-bottom:5.5px solid #34686b}article[role=ECC] table{border-bottom:5.5px solid #196574;width:100%}article[role=VB] table{border-bottom:5.5px solid #196574}article[role=JOE] table{border-bottom:5.5px solid rgba(0,5,117,.8)}article[role=ERC] table{border-bottom:5.5px solid rgba(0,5,117,.8)}article[role=JME] table{border-bottom:5.5px solid #6f2f6e}article-meta fpage{display:none}kwd1{display:inline}disp-formula>img{width:auto;display:block;vertical-align:middle;margin:10px auto}disp-formula{display:block}inline-formula>img{width:auto!important;display:inline!important;margin-top:0!important}article-meta>volume1{display:none}ol[list-type=bullet]{list-style-type:disc}ol[list-type=numeric]{list-style-type:decimal}ol[list-type=upperroman]{list-style-type:upper-roman}ol[list-type=lowerroman]{list-style-type:lower-roman}ol[list-type=loweralpha]{list-style-type:lower-alpha}ol[list-type=upperalpha]{list-style-type:upper-alpha}disp-formula>label1{margin-top:13px;font-size:15pt}copyright-year{display:block;text-align:right}copyright-holder{display:none}copyright-statement{display:block;text-align:right;margin-top:12pt}history{display:block;text-align:right;margin-bottom:50pt}subject{display:block;font-size:17pt;font-weight:700}date-cont{display:block}corresp{display:inline-block;margin-bottom:14pt;font-weight:700}article[role=JME] hr{margin:0;padding:0;border:0;border-top:7px solid #6f2f6e!important;height:1px!important;margin-bottom:9px!important}article[role=ERP] hr{margin:0;padding:0;border:0;border-top:7px solid #34686b!important;height:1px!important;margin-bottom:9px!important}article[role=REP] hr{margin:0;padding:0;border:0;border-top:1px solid #0f1212!important;height:1px!important;margin-bottom:9px!important}article[role=EJE] hr{margin:0;padding:0;border:0;border-top:7px solid #0c6bc5!important;height:1px!important;margin-bottom:9px!important}article[role=EDM] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(117,0,64,.8)!important;height:1px!important;margin-bottom:9px!important}article[role=ECC] hr{margin:0;padding:0;border:0;border-top:7px solid #196574!important;height:1px!important;margin-bottom:9px!important}article[role=JOE] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(0,5,117,.8)!important;height:1px!important;margin-bottom:9px!important}article[role=ERC] hr{margin:0;padding:0;border:0;border-top:7px solid rgba(0,5,117,.8)!important;height:1px!important;margin-bottom:9px!important}table-wrap-foot fn pp1{display:block;font-size:9pt}kwd-group>title1{font-weight:700}jou[role=JME]{display:block;background-color:#6f2f6e;margin-left:-57px;margin-right:auto}vol{display:block;text-align:right}iss{display:block;text-align:right}td[colspan]>tp{text-align:center}spellingerrors{display:none}oa{font-size:16px}related-object{display:block;font-size:12px}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:1px solid #d3d3d3;border-collapse:collapse;padding-left:5pt;text-align:left;border-style:dashed}abstract,ack,aff,article-meta title-group article-title,ref-list{display:block}author-notes,contrib-group,history,ref{display:block;margin-top:10px}img.new_figureinsert{width:70%}sc{font-variant:small-caps!important}td span{font-size:9pt!important}underline{text-decoration:underline}sec[sec-type=box]>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}sec>sec>sec[sec-type=box]>title1{font-size:12pt;margin-top:1pt;margin-bottom:15pt;display:block;font-weight:700;font-style:normal;text-align:left!important}td[colspan]>tp{text-align:center}spellingerrors{display:none}oa{font-size:16px}related-object{display:block;font-size:12px} table,td,th{border-collapse:collapse;border:solid 1px #ccc;padding:10px 20px;text-align:center}article table>tbody>tr>td{font-size:9pt;font-style:normal;border:1px solid #d3d3d3;border-collapse:collapse;padding-left:5pt;text-align:left;border-style:dashed}abstract,ack,aff,article-meta title-group article-title,ref-list{display:block}author-notes,contrib-group,history,ref{display:block;margin-top:10px}pub-date>month>year{display:none}issue{display:none}';\n    let newCssXml =\n      'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}.ins{color:#06b506!important}.ins{border-top:1px solid;border-bottom:1px solid;color:#17c671!important}.ins,.ins tblfn,.ins tblsource,.ins xref,.ins>link1,.ins>p1{color:#17c671!important}[data-user=current-user]{color:#17c671!important;border-color:#fff!important}.del{color:#c4183c!important;text-decoration:line-through;border-top:1px solid;border-bottom:1px solid;border-color:#fff!important}book,chapter{display:flex;flex-direction:column;word-spacing:1.5pt;text-align:justify}i.ref-drag{display:none !important}.show-comment{background:red;color:#fff}.show-query{background:purple;color:#fff;}';\n    let divContents = document.getElementById('content').innerHTML;\n    let a = window.open('', '', 'height=800, width=1200');\n    a.document.write(\n      '<html><style>' + cssVal + cssVal2 + newCssXml + '</style>'\n    );\n    a.document.write('<body >');\n    a.document.write(divContents);\n    a.document.write('</body></html>');\n    Array.from($(a.document.body).find('comment')).forEach((data) => {\n      let commentTxt = $(data).attr('title');\n      $(data).after(\n        '<span class=\"show-comment\">(Comment: ' + commentTxt + ')</span>'\n      );\n      $(data).remove();\n    });\n    Array.from($(a.document.body).find('query')).forEach((data) => {\n      let queryTxt = $(data).attr('title');\n      $(data).after(\n        '<span class=\"show-query\">(Author Query: ' +\n          queryTxt.split('AQ:')[1] +\n          ')</span>'\n      );\n      $(data).remove();\n    });\n    a.document.close();\n    a.print();\n  }\n\n  pdfConvertion() {\n    this.Popup($('#content').html());\n  }\n\n  submitAction() {\n    this.setState({ ARModal: true });\n    let dataLocalStorage = JSON.parse(localStorage.getItem('proEditorData'));\n    if (dataLocalStorage) {\n      window.EditorTools.callAPI(dataLocalStorage);\n    }\n  }\n\n  render() {\n    const {\n      openEditModal,\n      PDFStatusModal,\n      openStyleModal,\n      UPLOADPDFModal,\n      ARModal,\n      openPdfModal,\n      showXmlSuccess,\n      showXmlFailed,\n      loading,\n    } = this.state;\n    return (\n      <div className=\"heading-bar h-r-1 w-100 \">\n        {loading && <Loading loadingText={'Loading...'} />}\n        <div className=\"col-12 px-1 my-auto\">\n          <div className=\"main-actions-align\">\n            <div className=\"focus-mode-container focus-on\">\n              <label className=\"switch\" onClick={this.fullScreenAction}>\n                <span className=\"slider round\"></span>\n              </label>\n              <p>Focus mode</p>\n            </div>\n\n            <div className=\"main-actions-align\">\n              <Dropdown\n                className=\"my-0 ml-2 cstm-dropdown more-btn dropdown\"\n                alignRight\n              >\n                <Dropdown.Toggle id=\"dropdown-basic\">More</Dropdown.Toggle>\n                <Dropdown.Menu>\n                  {this.props.permissions.download_chapter_pdf && (\n                    <Dropdown.Item\n                      id=\"chapter_download\"\n                      target=\"_blank\"\n                      onClick={this.ChapterDownload}\n                    >\n                      Article Download\n                    </Dropdown.Item>\n                  )}\n                  {this.props.permissions.ai_prediction && (\n                    <Dropdown.Item\n                      onClick={(e) => {\n                        this.AIstartup();\n                      }}\n                    >\n                      AI Prediction\n                    </Dropdown.Item>\n                  )}\n                  {this.props.permissions.ai_prediction && (\n                    <Dropdown.Item\n                      href={\n                        this.state.APIURL +\n                        '/VXE/journalRevertXML/' +\n                        this.state.ProjectId +\n                        '/' +\n                        this.state.ChapterId\n                      }\n                      target=\"_blank\"\n                    >\n                      Revert XML Download\n                    </Dropdown.Item>\n                  )}\n                  {this.props.permissions.house_style &&\n                    this.state.ProjectId !== '245695' && (\n                      <Dropdown.Item\n                        onClick={(e) => {\n                          this.setState({ openStyleModal: true });\n                        }}\n                      >\n                        House Style\n                      </Dropdown.Item>\n                    )}\n                  {this.props.permissions.generate_pdf && (\n                    <Dropdown.Item\n                      id=\"generate-pdf\"\n                      onClick={() => this.InDesignPDF(this.state.projectId)}\n                    >\n                      Generate PDF\n                    </Dropdown.Item>\n                  )}\n                  {this.props.permissions.download_xml &&\n                    this.state.ProjectId !== '245695' && (\n                      <Dropdown.Item\n                        href={\n                          this.state.APIURL +\n                          '/VXE/DownloadVXExml/' +\n                          this.state.ProjectId +\n                          '/' +\n                          this.state.ChapterId +\n                          '/' +\n                          this.props.selectedChapterXmlName\n                        }\n                      >\n                        Download XML\n                      </Dropdown.Item>\n                    )}\n                  {this.props.permissions.download_original_manuscript && (\n                    <Dropdown.Item\n                      onClick={(e) => {\n                        this.downloadOriginalManuscript();\n                      }}\n                    >\n                      Download Original Manuscript\n                    </Dropdown.Item>\n                  )}\n                  {this.props.permissions.upload_xml &&\n                    this.state.ProjectId !== '245695' && (\n                      <Dropdown.Item\n                        onClick={(e) => {\n                          this.setState({ UPLOADPDFModal: true });\n                        }}\n                      >\n                        Upload XML\n                      </Dropdown.Item>\n                    )}\n                  <Dropdown.Item\n                    onClick={(e) => {\n                      this.pdfConvertion();\n                    }}\n                  >\n                    Track changes PDF\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n              {this.props.permissions.submit_button &&\n                !this.props.permissions.oup && (\n                  <button\n                    type=\"button\"\n                    className=\"btn cstm-save-btn ml-2\"\n                    onClick={(e) => {\n                      this.submitAction();\n                    }}\n                  >\n                    Submit\n                  </button>\n                )}\n\n              {/* {this.props.permissions.submit_button && !this.props.permissions.oup &&(\n                                <button type=\"button\" className=\"btn cstm-save-btn ml-2\">Submit</button>\n                            )}  */}\n              <span className=\"hide saving_file mt-2 mr-2 float-right\">\n                {' '}\n                Saving...{' '}\n              </span>\n              <span className=\"hide saved_file mt-2 mr-2 float-right\">\n                {' '}\n                Saved{' '}\n              </span>\n            </div>\n\n            {openEditModal && (\n              <DynamicModal\n                modalName=\"ai-predication-modal\"\n                modalId=\"modal-2\"\n                modalSize=\"lg\"\n                modalIsClose={this.AIPredicationModalClose}\n              >\n                <AIPredication\n                  selectedChapterXmlName={this.props.selectedChapterXmlName}\n                  sendAIPredicationModal={this.AIPredicationModal}\n                />\n              </DynamicModal>\n            )}\n            {PDFStatusModal && (\n              <DynamicModal\n                modalName=\"pdf-modal\"\n                modalId=\"modal-pdf\"\n                modalSize=\"sm\"\n                modalIsClose={this.PDFModelClose}\n              >\n                <div className=\"message-status\"></div>\n              </DynamicModal>\n            )}\n            {openPdfModal && (\n              <DynamicModal\n                modalName=\"pdf-modal\"\n                modalId=\"modal-pdf\"\n                modalSize=\"sm\"\n                modalIsClose={this.openPdfModelClose}\n              >\n                <div>\n                  <h3>Your PDF is generating</h3>\n                  <p>\n                    Your journal PDF is currently being generated and this\n                    process can take up to 10 minutes depending on the file\n                    size. You will not be able to review/edit this chapter on\n                    the PRO editor while the PDF is being processed but you can\n                    review/edit other chapters in the meantime.\n                  </p>\n                  <p>\n                    You can also leave the PRO editor while this is ongoing.\n                    Rest assured, the PDF generation will continue and be ready\n                    here when you come back.\n                  </p>\n                </div>\n              </DynamicModal>\n            )}\n            {ARModal && (\n              <DynamicModal\n                modalName=\"track-chg-modal\"\n                modalId=\"tc-modal\"\n                modalSize=\"md\"\n                modalIsClose={this.ARModalClose}\n              >\n                <div className=\"tc-container\">\n                  <h5 className=\"tc-title\">Editor Comments</h5>\n                  {this.state.authorcontent ? (\n                    <form onSubmit={this.AuthorSubmit}>\n                      <div>\n                        <p className=\"pull-left mb-4 mt-2\">\n                          Write feedback for your team to review\n                        </p>\n                      </div>\n                      <div className=\"input-group mb-3 mt-4\">\n                        <div className=\"row form-group display_figure ml-1\">\n                          <label className=\"popuplabel\">Message:</label>\n                          <textarea\n                            className=\"form-control inline_figure\"\n                            name=\"prooftextname\"\n                            id=\"proof_text\"\n                            onChange={this.onAuthoreHandler}\n                          ></textarea>\n                          <p className=\"text-danger\">\n                            {this.state.prooftexterror}\n                          </p>\n                        </div>\n                        <div className=\"row form-group ml-1 mb-3 cstm-b1\">\n                          <label className=\"popuplabel\">Upload Assets:</label>\n                          <input\n                            ref={this.fileDialog}\n                            type=\"file\"\n                            className=\"form-control inline_figure\"\n                            id=\"proof_assetfile\"\n                            multiple\n                            hidden\n                            onChange={(e) => this.onAuthorfileHandler(e)}\n                          />\n                          <button\n                            onClick={(e) => {\n                              this.triggerChooseFile(e);\n                            }}\n                            className=\"ml-1 deanta-button attachments-button\"\n                          >\n                            <span className=\"material-icons\">add_link</span>{' '}\n                            <span className=\"pl-2\"> Choose Your Files</span>\n                          </button>\n\n                          {this.state.attachmentFile.length > 0 && (\n                            <>\n                              <SubmitAttachmentData\n                                removeAttachment={this.removeAttachment}\n                                attachedFileData={this.state.attachmentFile}\n                              />\n                            </>\n                          )}\n                          {this.state.showAttachmentError && (\n                            <span className=\"file-size-error\">\n                              {this.state.statusText}\n                            </span>\n                          )}\n                        </div>\n\n                        <div className=\"custom-file\">\n                          <input\n                            type=\"hidden\"\n                            name=\"project_id\"\n                            value={this.props.ProjectId}\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"filename\"\n                            value={this.props.selectedChapterXmlName}\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"chapter_id\"\n                            value={this.props.ChapterId}\n                          />\n                          <input type=\"hidden\" name=\"user_id\" />\n                          <input type=\"hidden\" name=\"task_id\" value=\"565656\" />\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <input\n                          type=\"submit\"\n                          className=\"btn cstm-save-btn proof-button tc-button\"\n                          value={this.state.editorSubmittingText}\n                        />\n                      </div>\n                    </form>\n                  ) : (\n                    <div className=\"sucess-msg\">\n                      The Proof has been Submitted\n                    </div>\n                  )}\n                </div>\n              </DynamicModal>\n            )}\n\n            {UPLOADPDFModal && (\n              <DynamicModal\n                modalName=\"xml-chg-modal\"\n                modalId=\"xml-modal\"\n                modalSize=\"md\"\n                modalIsClose={this.XMLUPModelClose}\n              >\n                <div className=\"tc-container\">\n                  <h5 className=\"tc-title\">Upload XML</h5>\n\n                  {this.state.xmluploadcontent && (\n                    <form onSubmit={this.UploadXMLSubmit}>\n                      <div className=\"input-group mb-3 mt-4\">\n                        <div className=\"input-group-prepend pr-4 hide\">\n                          <span className=\"input-group-text\">Upload</span>\n                        </div>\n                        <div className=\"custom-file\">\n                          <input\n                            type=\"file\"\n                            name=\"xml_file\"\n                            id=\"xmlfile\"\n                            accept=\"text/xml\"\n                            onChange={this.onxmlfileHandler}\n                          />\n                          <p className=\"text-danger\">\n                            {this.state.xml_file_err}\n                          </p>\n                          <input\n                            type=\"hidden\"\n                            name=\"xml_project_id\"\n                            value={this.props.ProjectId}\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"xml_filename\"\n                            value={this.props.selectedChapterXmlName}\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"xml_chapter_id\"\n                            value={this.props.ChapterId}\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"xml_user_id\"\n                            value=\"2206\"\n                          />\n                          <input\n                            type=\"hidden\"\n                            name=\"xml_task_id\"\n                            value=\"575757\"\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mb-3\">\n                        <input\n                          type=\"submit\"\n                          className=\"btn cstm-success-bg tc-button\"\n                          value=\"Upload\"\n                        />\n                      </div>\n                    </form>\n                  )}\n                  {showXmlSuccess && (\n                    <div className=\"sucess-msg\">XML Uploaded Successfully</div>\n                  )}\n                  {showXmlFailed && (\n                    <div className=\"danger-msg\">XML Upload failed</div>\n                  )}\n                </div>\n              </DynamicModal>\n            )}\n\n            {openStyleModal && (\n              <DynamicModal\n                modalName=\"style-modal\"\n                modalId=\"modal-2\"\n                modalSize=\"lg\"\n                modalIsClose={this.StyleModalClose}\n              >\n                <StyleList />\n                <button\n                  type=\"button\"\n                  onClick={this.StyleConfig}\n                  className=\"btn cstm-success-bg float-right\"\n                >\n                  Submit\n                </button>\n              </DynamicModal>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DynamicHeader;\n"]},"metadata":{},"sourceType":"module"}