!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("raf"),require("react")):"function"==typeof define&&define.amd?define(["raf","react"],n):t.ReactCollapsed=n(t.raf,t.React)}(this,function(t,n){"use strict";function e(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(n){e(t,n,r[n])})}return t}function o(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t;var a=function(){};function l(t){return t&&t.current?t.current.scrollHeight:"auto"}var c=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.forEach(function(t){return t&&t.apply(void 0,e)})}},f={transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.250, 0.460, 0.450, 0.940)"};function s(t){if(t){var n=["height"];return n.push.apply(n,u(t.split(", "))),n.join(", ")}return"height"}var p=0,d=function(){return++p};return function(){var u,p,y,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=function(){var t=i(n.useState(null),2),e=t[0],r=t[1];return n.useEffect(function(){return r(d())},[]),e}(),v=n.useRef(null),b=function(t){var e=t.isOpen,r=t.defaultOpen,o=i(n.useState(r||!1),2),u=o[0];return[void 0!==e?e:u,o[1]]}(h),O=i(b,2),m=O[0],w=O[1],S="".concat(h.collapsedHeight||0,"px"),P=n.useMemo(function(){return{display:"0px"===S?"none":"block",height:S,overflow:"hidden"}},[S]),j=n.useMemo(function(){return n=(t=h).expandStyles,e=void 0===n?f:n,o=t.collapseStyles,i=void 0===o?f:o,{expandStyles:r({},e,{transitionProperty:s(e.transitionProperty)}),collapseStyles:r({},i,{transitionProperty:s(i.transitionProperty)})};var t,n,e,o,i},[h]),x=j.expandStyles,E=j.collapseStyles,A=i(n.useState(m?{}:P),2),C=A[0],k=A[1],T=i(n.useState(m),2),I=T[0],R=T[1],q=n.useCallback(function(){return w(function(t){return!t})},[]);u=function(){t(m?function(){R(!0),k(function(t){return r({},t,x,{willChange:"height",display:"block",overflow:"hidden"})}),t(function(){var t=l(v);k(function(n){return r({},n,{height:t})})})}:function(){var n=l(v);k(function(t){return r({},t,E,{willChange:"height",height:n})}),t(function(){k(function(t){return r({},t,{height:S,overflow:"hidden"})})})})},p=[m],y=n.useRef(!0),n.useEffect(function(){if(!y.current)return u();y.current=!1},p);var D=function(t){if(t.target===v.current)if(m){var n=l(v);n===C.height?k({}):k(function(t){return r({},t,{height:n})})}else C.height===S&&(R(!1),k(P))};return{getToggleProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.disabled,e=void 0!==n&&n,i=t.onClick,u=void 0===i?a:i,l=o(t,["disabled","onClick"]);return r({type:"button",role:"button",id:"react-collapsed-toggle-".concat(g),"aria-controls":"react-collapsed-panel-".concat(g),"aria-expanded":m?"true":"false",tabIndex:0},l,{onClick:e?a:c(u,q)})},getCollapseProps:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.style,u=void 0===i?{}:i,l=n.onTransitionEnd,p=void 0===l?a:l,d=n.refKey,y=void 0===d?"ref":d,h=o(n,["style","onTransitionEnd","refKey"]);return r({id:"react-collapsed-panel-".concat(g),"aria-hidden":m?null:"true"},h,(e(t={},y,v),e(t,"onTransitionEnd",c(D,p)),e(t,"style",r({},f,u,{transitionProperty:s(u.transitionProperty)},C)),t))},isOpen:m,toggleOpen:q,mountChildren:I}}});
//# sourceMappingURL=react-collapsed.umd.js.map
